module.exports=[4861,a=>{"use strict";let b=(0,a.i(22649).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],4861)},3256,a=>{"use strict";let b=(0,a.i(22649).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],3256)},64769,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(80882),e=a.i(4861),f=a.i(3256);let g="http://127.0.0.1:5002",h=g.endsWith("/api")?g.slice(0,-4):g;function i(){let[a,g]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),s=async()=>{try{let a=document.cookie.split("; ").find(a=>a.startsWith("admin_token="))?.split("=")[1],b=await fetch(`${h}/api/donation/pending-approvals`,{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();c.success&&g(c.donations)}catch(a){console.error("Failed to fetch pending approvals:",a)}finally{j(!1)}};(0,c.useEffect)(()=>{s()},[]);let t=async b=>{l(b);try{let c=document.cookie.split("; ").find(a=>a.startsWith("admin_token="))?.split("=")[1],d=await fetch(`${h}/api/donation/${b}/approve`,{method:"PUT",headers:{Authorization:`Bearer ${c}`}});(await d.json()).success&&g(a.filter(a=>a._id!==b))}catch(a){console.error("Failed to approve:",a)}finally{l(null)}},u=async()=>{if(m&&o){l(m._id);try{let b=document.cookie.split("; ").find(a=>a.startsWith("admin_token="))?.split("=")[1],c=await fetch(`${h}/api/donation/${m._id}/reject`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({reason:o})});(await c.json()).success&&(g(a.filter(a=>a._id!==m._id)),r(!1),n(null),p(""))}catch(a){console.error("Failed to reject:",a)}finally{l(null)}}};return(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(d.Clock,{className:"w-6 h-6 text-yellow-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Pending Approvals"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Review and approve offline donations"})]})]}),i?(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-8 text-center text-gray-500",children:"Loading..."}):0===a.length?(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center",children:[(0,b.jsx)(e.CheckCircle,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All caught up!"}),(0,b.jsx)("p",{className:"text-gray-600",children:"No pending donations to review."})]}):(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.donorName}),(0,b.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Pending"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500",children:"Amount"}),(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:[a.currency," ",a.amount.toLocaleString()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500",children:"Payment Method"}),(0,b.jsx)("p",{className:"font-medium text-gray-900 capitalize",children:a.offlinePaymentMethod.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500",children:"Type"}),(0,b.jsx)("p",{className:"font-medium text-gray-900 capitalize",children:a.donationType})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500",children:"Added By"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.addedBy?.username||"N/A"})]})]}),a.notes&&(0,b.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.notes})})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsxs)("button",{onClick:()=>t(a._id),disabled:k===a._id,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,b.jsx)(e.CheckCircle,{className:"w-4 h-4"}),"Approve"]}),(0,b.jsxs)("button",{onClick:()=>{n(a),r(!0)},disabled:k===a._id,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[(0,b.jsx)(f.XCircle,{className:"w-4 h-4"}),"Reject"]})]})]})},a._id))}),q&&m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reject Donation"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-4",children:["Please provide a reason for rejecting ",m.donorName,"'s donation of ",m.currency," ",m.amount.toLocaleString(),"."]}),(0,b.jsx)("textarea",{value:o,onChange:a=>p(a.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary mb-4",rows:3,placeholder:"Enter rejection reason..."}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:u,disabled:!o||k===m._id,className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Confirm Reject"}),(0,b.jsx)("button",{onClick:()=>{r(!1),n(null),p("")},className:"flex-1 border border-gray-300 py-2 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=Official_SbWebsite_client_0ace6aaa._.js.map