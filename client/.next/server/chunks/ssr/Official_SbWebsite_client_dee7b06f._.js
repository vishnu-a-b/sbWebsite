module.exports=[87312,a=>{"use strict";let b=(0,a.i(22649).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],87312)},87575,a=>{"use strict";let b=(0,a.i(22649).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],87575)},30933,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(87575),e=a.i(87312);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)({status:"",type:""}),[k,l]=(0,c.useState)({page:1,total:0,pages:0}),m=async()=>{try{let a=document.cookie.split("; ").find(a=>a.startsWith("admin_token="))?.split("=")[1],b=new URLSearchParams({page:k.page.toString(),limit:"20",...i.status&&{status:i.status},...i.type&&{donationType:i.type}}),c=await fetch(`http://127.0.0.1:5002/api/donation?${b}`,{headers:{Authorization:`Bearer ${a}`}}),d=await c.json();d.success&&(f(d.donations),l(d.pagination))}catch(a){console.error("Failed to fetch donations:",a)}finally{h(!1)}};return(0,c.useEffect)(()=>{m()},[k.page,i]),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"All Donations"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage all donation records"})]}),(0,b.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:[(0,b.jsx)(d.Download,{className:"w-4 h-4"}),"Export CSV"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("select",{value:i.status,onChange:a=>j({...i,status:a.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"SUCCESS",children:"Success"}),(0,b.jsx)("option",{value:"PENDING",children:"Pending"}),(0,b.jsx)("option",{value:"FAILED",children:"Failed"})]}),(0,b.jsxs)("select",{value:i.type,onChange:a=>j({...i,type:a.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"All Types"}),(0,b.jsx)("option",{value:"general",children:"General"}),(0,b.jsx)("option",{value:"fellowship",children:"Fellowship"})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[g?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Donor"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Type"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.donorName}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.email})]})}),(0,b.jsxs)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:[a.currency," ",a.amount.toLocaleString()]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.isOffline?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:[a.isOffline?"Offline":"Online"," - ",a.donationType]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${{SUCCESS:"bg-green-100 text-green-800",FAILED:"bg-red-100 text-red-800",PENDING:"bg-yellow-100 text-yellow-800",REFUNDED:"bg-gray-100 text-gray-800"}[a.paymentStatus]||"bg-gray-100 text-gray-800"}`,children:a.paymentStatus})}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-600",children:new Date(a.createdAt).toLocaleDateString("en-IN")}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(e.Eye,{className:"w-4 h-4 text-gray-600"})})})]},a._id))})]}),k.pages>1&&(0,b.jsxs)("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",k.page," of ",k.pages," (",k.total," total)"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>l({...k,page:k.page-1}),disabled:1===k.page,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),(0,b.jsx)("button",{onClick:()=>l({...k,page:k.page+1}),disabled:k.page===k.pages,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=Official_SbWebsite_client_dee7b06f._.js.map