module.exports=[9681,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(46969),e=a.i(77574),f=a.i(86793),g=a.i(87312),h=a.i(85142),i=a.i(69922),j=a.i(26214),k=a.i(26090);function l({service:a,onClose:d,onSave:e}){let[f,g]=(0,c.useState)({title:a?.title||"",description:a?.description||"",icon:a?.icon||"",image:a?.image||"",color:a?.color||"#10b981",priority:a?.priority||0,isActive:a?.isActive??!0,startDate:a?.startDate?new Date(a.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expiryDate:a?.expiryDate?new Date(a.expiryDate).toISOString().split("T")[0]:"",showOnFirstFace:a?.showOnFirstFace||!1}),[h,l]=(0,c.useState)({}),m=(a,b)=>{g(c=>({...c,[a]:b})),h[a]&&l(b=>({...b,[a]:void 0}))};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between z-10",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Service":"Add New Service"}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(i.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{let b;a.preventDefault(),b={},f.title.trim()||(b.title="Title is required"),f.description.trim()||(b.description="Description is required"),f.icon.trim()||(b.icon="Icon name is required"),f.priority<0&&(b.priority="Priority must be 0 or greater"),f.expiryDate&&new Date(f.startDate)>new Date(f.expiryDate)&&(b.expiryDate="Expiry date must be after start date"),l(b),0===Object.keys(b).length&&e(f)},className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Service Image"}),(0,b.jsx)(k.default,{onUploadComplete:a=>m("image",a),currentUrl:f.image,type:"image"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended size: 800x600px"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:f.title,onChange:a=>m("title",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Free Dialysis"}),h.title&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:f.description,onChange:a=>m("description",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe the service...",rows:4}),h.description&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Icon Name (Lucide) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:f.icon,onChange:a=>m("icon",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.icon?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Heart, Activity, Users"}),h.icon&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.icon}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"See lucide.dev for icon names"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Color"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"color",value:f.color,onChange:a=>m("color",a.target.value),className:"h-10 w-20 rounded cursor-pointer"}),(0,b.jsx)("input",{type:"text",value:f.color,onChange:a=>m("color",a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"#10b981"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority (Higher = Shows First)"}),(0,b.jsx)("input",{type:"number",value:f.priority,onChange:a=>m("priority",parseInt(a.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.priority?"border-red-500":"border-gray-300"}`,min:"0"}),h.priority&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.priority})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Start Date ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"date",value:f.startDate,onChange:a=>m("startDate",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Expiry Date ",(0,b.jsx)("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),(0,b.jsx)("input",{type:"date",value:f.expiryDate,onChange:a=>m("expiryDate",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.expiryDate?"border-red-500":"border-gray-300"}`}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank if the service does not expire"}),h.expiryDate&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.expiryDate})]})]}),(0,b.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.isActive,onChange:a=>m("isActive",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Active"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Service is visible to users"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.showOnFirstFace,onChange:a=>m("showOnFirstFace",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Show on First Face"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Display on homepage above the fold"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",className:"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(j.Save,{className:"w-5 h-5"}),a?"Update Service":"Create Service"]})]})]})]})})}var m=a.i(46240);let n=(0,m.createServerReference)("0097772b03c89fa728c20a5f8f03fca816c4fa0888",m.callServer,void 0,m.findSourceMapURL,"getServicesPageContent"),o=(0,m.createServerReference)("40a470356aa7609e428d9c38099633aaea61a324de",m.callServer,void 0,m.findSourceMapURL,"updateServicesPageContent");function p(){let[a,d]=(0,c.useState)({heroTitle:"",heroSubtitle:"",helperTitle:"",helperDescription:"",ctaButtonText:"",ctaLink:""}),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(!1),[i,k]=(0,c.useState)(!1);(0,c.useEffect)(()=>{l()},[]);let l=async()=>{try{let a=await n();a&&d({heroTitle:a.heroTitle||"Our Services",heroSubtitle:a.heroSubtitle||"",helperTitle:a.helperTitle||"No Barriers to Care",helperDescription:a.helperDescription||"",ctaButtonText:a.ctaButtonText||"Contact Us",ctaLink:a.ctaLink||"/contact"}),f(!1)}catch(a){console.error("Error fetching page content:",a),f(!1)}},m=async()=>{h(!0);try{await o(a),alert("Page content saved successfully!")}catch(a){console.error("Error saving content:",a),alert("Error saving content")}finally{h(!1)}};return e?(0,b.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading config..."}):(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-8 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 cursor-pointer flex justify-between items-center bg-gray-50 border-b hover:bg-gray-100 transition-colors",onClick:()=>k(!i),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Page Configuration"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Edit hero section and CTA text"})]}),(0,b.jsx)("div",{className:"text-gray-400",children:i?"▲":"▼"})]}),i&&(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Hero Section"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page Title"}),(0,b.jsx)("input",{type:"text",value:a.heroTitle,onChange:b=>d({...a,heroTitle:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),(0,b.jsx)("textarea",{value:a.heroSubtitle,onChange:b=>d({...a,heroSubtitle:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary",rows:2})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Bottom CTA Section"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Title"}),(0,b.jsx)("input",{type:"text",value:a.helperTitle,onChange:b=>d({...a,helperTitle:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:a.helperDescription,onChange:b=>d({...a,helperDescription:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary",rows:2})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,b.jsx)("input",{type:"text",value:a.ctaButtonText,onChange:b=>d({...a,ctaButtonText:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Link"}),(0,b.jsx)("input",{type:"text",value:a.ctaLink,onChange:b=>d({...a,ctaLink:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary focus:border-primary"})]})]})]}),(0,b.jsx)("div",{className:"pt-4 flex justify-end",children:(0,b.jsxs)("button",{onClick:m,disabled:g,className:"bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 flex items-center gap-2 transition-opacity disabled:opacity-50",children:[(0,b.jsx)(j.Save,{className:"w-4 h-4"}),g?"Saving...":"Save Configuration"]})})]})]})}let q=(0,m.createServerReference)("006dd374314f756bd6aa97544917b3997663b11820",m.callServer,void 0,m.findSourceMapURL,"getServices"),r=(0,m.createServerReference)("40db25771f00592eadd28150cf3b9dc91ae8c6a106",m.callServer,void 0,m.findSourceMapURL,"createService"),s=(0,m.createServerReference)("60c2b0dae7a1f4b488cc406c189c819f71b0483601",m.callServer,void 0,m.findSourceMapURL,"updateService"),t=(0,m.createServerReference)("4066dfc5bdcac6efad4b79cc063d4a23397a35dca5",m.callServer,void 0,m.findSourceMapURL,"deleteService");function u(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),[o,u]=(0,c.useState)(null);(0,c.useEffect)(()=>{v()},[]);let v=async()=>{try{let a=await q();i(a),k(!1)}catch(a){console.error("Error fetching services:",a),k(!1)}},w=async a=>{try{o?await s(o._id,a):await r(a),n(!1),u(null),v()}catch(a){console.error("Error saving service:",a),alert("Failed to save service")}},x=async a=>{if(confirm("Are you sure you want to delete this service?"))try{await t(a),v()}catch(a){console.error("Error deleting service:",a),alert("Failed to delete service")}};return(0,b.jsxs)("div",{className:"p-8",children:[m&&(0,b.jsx)(l,{service:o,onClose:()=>{n(!1),u(null)},onSave:w}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Services"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage hospital services with CMS controls"})]}),(0,b.jsxs)("button",{onClick:()=>n(!0),className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl",children:[(0,b.jsx)(d.Plus,{className:"w-5 h-5"}),"Add New Service"]})]}),(0,b.jsx)(p,{}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"CMS Controls"}),(0,b.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,b.jsxs)("li",{children:["• Services display based on ",(0,b.jsx)("strong",{children:"Priority"})," (higher first)"]}),(0,b.jsxs)("li",{children:["• Only ",(0,b.jsx)("strong",{children:"Active"})," services within ",(0,b.jsx)("strong",{children:"Start/Expiry dates"})," are shown"]}),(0,b.jsx)("li",{children:'• Toggle "Show on Homepage" to feature on first face'})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Priority"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Icon"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Date Range"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:j?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"Loading services..."})}):0===a.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:'No services found. Click "Add New Service" to create one.'})}):a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"font-semibold text-primary",children:a.priority})}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:a.description})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"text-2xl",children:a.icon})}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.isActive?(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,b.jsx)(g.Eye,{className:"w-4 h-4"}),"Active"]}):(0,b.jsxs)("span",{className:"flex items-center gap-1 text-gray-400",children:[(0,b.jsx)(h.EyeOff,{className:"w-4 h-4"}),"Inactive"]})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[(0,b.jsx)("div",{children:new Date(a.startDate).toLocaleDateString()}),(0,b.jsxs)("div",{className:"text-xs",children:["to ",new Date(a.expiryDate).toLocaleDateString()]})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{u(a),n(!0)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)(e.Edit,{className:"w-4 h-4 text-blue-600"})}),(0,b.jsx)("button",{onClick:()=>x(a._id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4 text-red-600"})})]})})]},a._id))})]})})]})}a.s(["default",()=>u],9681)}];

//# sourceMappingURL=Official_SbWebsite_client_app_%28admin-panel%29_admin_services_page_tsx_e28ef09c._.js.map