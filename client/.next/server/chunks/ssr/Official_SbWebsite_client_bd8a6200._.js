module.exports=[4861,a=>{"use strict";let b=(0,a.i(22649).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],4861)},87312,a=>{"use strict";let b=(0,a.i(22649).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],87312)},46969,a=>{"use strict";let b=(0,a.i(22649).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],46969)},77574,a=>{"use strict";let b=(0,a.i(22649).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],77574)},3256,a=>{"use strict";let b=(0,a.i(22649).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],3256)},17797,a=>{"use strict";let b=(0,a.i(22649).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],17797)},54735,a=>{"use strict";let b=(0,a.i(22649).default)("circle-pause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);a.s(["PauseCircle",()=>b],54735)},5559,a=>{"use strict";let b=(0,a.i(22649).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],5559)},29655,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(33398),e=a.i(33980),f=a.i(46969),g=a.i(17797),h=a.i(5559),i=a.i(77574),j=a.i(87312);let k=(0,a.i(22649).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var l=a.i(4861),m=a.i(80882),n=a.i(3256),o=a.i(54735);let p="http://127.0.0.1:5002",q={draft:{label:"Draft",color:"bg-gray-100 text-gray-700",icon:m.Clock},active:{label:"Active",color:"bg-green-100 text-green-700",icon:l.CheckCircle},paused:{label:"Paused",color:"bg-yellow-100 text-yellow-700",icon:o.PauseCircle},completed:{label:"Completed",color:"bg-blue-100 text-blue-700",icon:l.CheckCircle},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-700",icon:n.XCircle}};function r(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)({page:1,limit:20,total:0,pages:0});(0,c.useEffect)(()=>{w()},[u.page,s]);let w=async()=>{try{let a=new URLSearchParams({page:u.page.toString(),limit:u.limit.toString()});s&&a.append("status",s);let b=await fetch(`${p}/api/campaign?${a}`,{credentials:"include"}),c=await b.json();c.success&&(l(c.campaigns),v(a=>({...a,...c.pagination})))}catch(a){console.error("Failed to fetch campaigns:",a)}finally{n(!1)}},x=async(a,b)=>{try{let c=await fetch(`${p}/api/campaign/${a}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:b})}),d=await c.json();d.success?w():alert(d.error||"Failed to update status")}catch(a){console.error("Failed to update status:",a),alert("Failed to update status")}},y=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let b=await fetch(`${p}/api/campaign/${a}`,{method:"DELETE",credentials:"include"}),c=await b.json();c.success?w():alert(c.error||"Failed to delete campaign")}catch(a){console.error("Failed to delete campaign:",a),alert("Failed to delete campaign")}},z=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),A=a.filter(a=>a.title.toLowerCase().includes(o.toLowerCase()));return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(e.Target,{className:"w-7 h-7 text-primary"}),"Campaigns"]}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage donation campaigns"})]}),(0,b.jsxs)(d.default,{href:"/admin/campaigns/create",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Create Campaign"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:o,onChange:a=>r(a.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Filter,{className:"w-5 h-5 text-gray-400"}),(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),m?(0,b.jsx)("div",{className:"flex justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===A.length?(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[(0,b.jsx)(e.Target,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Create your first campaign to get started."}),(0,b.jsxs)(d.default,{href:"/admin/campaigns/create",className:"inline-flex items-center gap-2 mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,b.jsx)("div",{className:"grid gap-6",children:A.map(a=>{let c=q[a.status]||q.draft,e=c.icon,f=Math.min(Math.round(a.raisedAmount/a.goalAmount*100),100);return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.title}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${c.color}`,children:[(0,b.jsx)(e,{className:"w-3 h-3"}),c.label]}),a.isFeatured&&(0,b.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:"Featured"})]}),a.shortDescription&&(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:a.shortDescription})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:`/admin/campaigns/${a._id}`,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View/Edit",children:(0,b.jsx)(i.Edit,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)(d.default,{href:`/donate?campaign=${a.slug}`,target:"_blank",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View on Website",children:(0,b.jsx)(j.Eye,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(k,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border py-1 hidden group-hover:block z-10",children:["draft"===a.status&&(0,b.jsx)("button",{onClick:()=>x(a._id,"active"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 text-green-600",children:"Activate Campaign"}),"active"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>x(a._id,"paused"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 text-yellow-600",children:"Pause Campaign"}),(0,b.jsx)("button",{onClick:()=>x(a._id,"completed"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 text-blue-600",children:"Mark Completed"})]}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>x(a._id,"active"),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 text-green-600",children:"Resume Campaign"}),0===a.donorCount&&(0,b.jsx)("button",{onClick:()=>y(a._id),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 text-red-600",children:"Delete Campaign"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:[z(a.raisedAmount)," raised"]}),(0,b.jsxs)("span",{className:"font-medium",children:[z(a.goalAmount)," goal"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:`h-2 rounded-full transition-all ${f>=100?"bg-green-500":"bg-primary"}`,style:{width:`${f}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:[f,"% funded"]}),(0,b.jsxs)("span",{children:[a.donorCount," donors"]})]})]}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t flex items-center justify-between text-sm text-gray-500",children:[(0,b.jsxs)("span",{children:["Started: ",new Date(a.startDate).toLocaleDateString()]}),a.endDate&&(0,b.jsxs)("span",{children:["Ends: ",new Date(a.endDate).toLocaleDateString()]})]})]},a._id)})}),u.pages>1&&(0,b.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,b.jsx)("button",{onClick:()=>v(a=>({...a,page:a.page-1})),disabled:1===u.page,className:"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,b.jsxs)("span",{className:"px-4 py-2",children:["Page ",u.page," of ",u.pages]}),(0,b.jsx)("button",{onClick:()=>v(a=>({...a,page:a.page+1})),disabled:u.page===u.pages,className:"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})}a.s(["default",()=>r],29655)}];

//# sourceMappingURL=Official_SbWebsite_client_bd8a6200._.js.map