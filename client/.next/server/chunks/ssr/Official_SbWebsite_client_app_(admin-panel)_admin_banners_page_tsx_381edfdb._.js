module.exports=[51784,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(6873),e=a.i(88641),f=a.i(46969),g=a.i(36830),h=a.i(80353),i=a.i(77574),j=a.i(86793);let k=(0,a.i(22649).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var l=a.i(79128),m=a.i(69922),n=a.i(26214),o=a.i(26090);function p({banner:a,onClose:d,onSave:e}){let[f,i]=(0,c.useState)({title:a?.title||"",subtitle:a?.subtitle||"",description:a?.description||"",mediaType:a?.mediaType||"image",imageUrl:a?.imageUrl||"",videoUrl:a?.videoUrl||"",thumbnailUrl:a?.thumbnailUrl||"",ctaText:a?.ctaText||"",ctaLink:a?.ctaLink||"",location:a?.location||"home",priority:a?.priority||0,isActive:a?.isActive??!0,startDate:a?.startDate?new Date(a.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expiryDate:a?.expiryDate?new Date(a.expiryDate).toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().split("T")[0],showOnFirstFace:a?.showOnFirstFace??!0}),[j,k]=(0,c.useState)({}),l=a=>{let b;a.preventDefault(),b={},f.title.trim()||(b.title="Title is required"),f.description.trim()||(b.description="Description is required"),"image"!==f.mediaType||f.imageUrl.trim()||(b.imageUrl="Image is required"),"video"!==f.mediaType||f.videoUrl.trim()||(b.videoUrl="Video is required"),new Date(f.startDate)>new Date(f.expiryDate)&&(b.expiryDate="Expiry date must be after start date"),k(b),0===Object.keys(b).length&&e(f)},p=(a,b)=>{i(c=>({...c,[a]:b})),j[a]&&k(b=>({...b,[a]:void 0}))};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full my-8",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between rounded-t-xl",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Hero Banner":"Add New Hero Banner"}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(m.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:l,className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Media Type ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${"image"===f.mediaType?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"mediaType",value:"image",checked:"image"===f.mediaType,onChange:()=>p("mediaType","image"),className:"sr-only"}),(0,b.jsx)(h.Image,{className:`w-6 h-6 ${"image"===f.mediaType?"text-primary":"text-gray-400"}`}),(0,b.jsx)("span",{className:`font-semibold ${"image"===f.mediaType?"text-primary":"text-gray-600"}`,children:"Image"})]}),(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${"video"===f.mediaType?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"mediaType",value:"video",checked:"video"===f.mediaType,onChange:()=>p("mediaType","video"),className:"sr-only"}),(0,b.jsx)(g.Video,{className:`w-6 h-6 ${"video"===f.mediaType?"text-primary":"text-gray-400"}`}),(0,b.jsx)("span",{className:`font-semibold ${"video"===f.mediaType?"text-primary":"text-gray-600"}`,children:"Video"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Display Location ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 border-2 rounded-lg cursor-pointer transition-all ${"home"===f.location?"border-secondary bg-secondary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"location",value:"home",checked:"home"===f.location,onChange:()=>p("location","home"),className:"sr-only"}),(0,b.jsx)("span",{className:`font-semibold ${"home"===f.location?"text-secondary":"text-gray-600"}`,children:"Home Page"})]}),(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 border-2 rounded-lg cursor-pointer transition-all ${"benevity"===f.location?"border-secondary bg-secondary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"location",value:"benevity",checked:"benevity"===f.location,onChange:()=>p("location","benevity"),className:"sr-only"}),(0,b.jsx)("span",{className:`font-semibold ${"benevity"===f.location?"text-secondary":"text-gray-600"}`,children:"Benevity Page"})]})]})]})]}),"image"===f.mediaType?(0,b.jsx)(o.default,{type:"image",currentUrl:f.imageUrl,onUploadComplete:a=>p("imageUrl",a),label:"Hero Image *",maxSize:10}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(o.default,{type:"video",currentUrl:f.videoUrl,onUploadComplete:a=>p("videoUrl",a),label:"Hero Video *",maxSize:50}),(0,b.jsx)(o.default,{type:"image",currentUrl:f.thumbnailUrl,onUploadComplete:a=>p("thumbnailUrl",a),label:"Video Thumbnail (Poster Image)",maxSize:5})]}),j.imageUrl&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:j.imageUrl}),j.videoUrl&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:j.videoUrl}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:f.title,onChange:a=>p("title",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${j.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., India's First No-Bill Hospital"}),j.title&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subtitle"}),(0,b.jsx)("input",{type:"text",value:f.subtitle,onChange:a=>p("subtitle",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Compassionate Care for All"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:f.description,onChange:a=>p("description",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${j.description?"border-red-500":"border-gray-300"}`,placeholder:"Brief description for the hero section...",rows:3}),j.description&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.description})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CTA Button Text"}),(0,b.jsx)("input",{type:"text",value:f.ctaText,onChange:a=>p("ctaText",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Donate Now"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CTA Link"}),(0,b.jsx)("input",{type:"text",value:f.ctaLink,onChange:a=>p("ctaLink",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., /donate"})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,b.jsx)("input",{type:"number",value:f.priority,onChange:a=>p("priority",parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",min:"0"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Higher = shows first"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:f.startDate,onChange:a=>p("startDate",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expiry Date"}),(0,b.jsx)("input",{type:"date",value:f.expiryDate,onChange:a=>p("expiryDate",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${j.expiryDate?"border-red-500":"border-gray-300"}`}),j.expiryDate&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:j.expiryDate})]})]}),(0,b.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.isActive,onChange:a=>p("isActive",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Active"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Banner is visible on homepage"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.showOnFirstFace,onChange:a=>p("showOnFirstFace",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Show on First Face"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Display in hero carousel rotation"})]})]})]})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 bg-white border-t px-6 py-4 flex gap-3 rounded-b-xl",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,b.jsxs)("button",{onClick:l,className:"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(n.Save,{className:"w-5 h-5"}),a?"Update Banner":"Create Banner"]})]})]})})}function q(){let[m,n]=(0,c.useState)([]),[o,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null);(0,c.useEffect)(()=>{v()},[]);let v=async()=>{try{let{getBanners:b}=await a.A(97057),c=await b();n(c),q(!1)}catch(a){console.error("Error fetching banners:",a),q(!1)}},w=async b=>{try{if(t){let{updateBanner:c}=await a.A(97057);await c(t._id,b)}else{let{createBanner:c}=await a.A(97057);await c(b)}s(!1),u(null),v()}catch(a){console.error("Error saving banner:",a),alert("Failed to save banner")}},x=async b=>{if(confirm("Are you sure you want to delete this banner?"))try{let{deleteBanner:c}=await a.A(97057);await c(b),v()}catch(a){console.error("Error deleting banner:",a),alert("Failed to delete banner")}};return o?(0,b.jsx)("div",{className:"p-8",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)("div",{className:"text-lg text-gray-600",children:"Loading banners..."})})}):(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Hero Banners & Videos"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage homepage hero section content"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{onClick:async()=>{try{let a=await fetch("http://localhost:5000/api/api/banner/seed",{method:"POST"}),b=await a.json();b.success?(alert(b.message),v()):alert("Failed to seed: "+b.error)}catch(a){alert("Error seeding banners. Ensure backend is running.")}},variant:"outline",className:"gap-2",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),"Seed Defaults"]}),(0,b.jsxs)(e.Button,{onClick:()=>{u(null),s(!0)},className:"gap-2",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Add Banner"]})]})]}),r&&(0,b.jsx)(p,{banner:t,onClose:()=>{s(!1),u(null)},onSave:w})]}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:0===m.length?(0,b.jsx)("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No banners found. Create your first banner!"}):m.map((a,c)=>(0,b.jsx)(l.default,{delay:.1*c,children:(0,b.jsxs)(d.Card,{className:"border-2 hover:border-secondary transition-all h-full flex flex-col",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["video"===a.mediaType?(0,b.jsx)(g.Video,{className:"w-5 h-5 text-primary"}):(0,b.jsx)(h.Image,{className:"w-5 h-5 text-secondary"}),(0,b.jsx)(d.CardTitle,{className:"text-lg",children:a.title})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:["benevity"===a.location?(0,b.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded font-medium border border-purple-200",children:"Benevity"}):(0,b.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded font-medium border border-blue-200",children:"Home"}),!a.isActive&&(0,b.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"Inactive"}),(0,b.jsxs)("span",{className:"text-xs bg-secondary/30 text-primary px-2 py-1 rounded",children:["#",a.order]})]})]})}),(0,b.jsxs)(d.CardContent,{className:"flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden mb-4",children:"video"===a.mediaType?(0,b.jsx)("video",{src:a.videoUrl,poster:a.thumbnailUrl,className:"w-full h-full object-cover",muted:!0}):(0,b.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"space-y-2 flex-1",children:[a.subtitle&&(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,b.jsx)("strong",{children:"Subtitle:"})," ",a.subtitle]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.description}),a.ctaText&&(0,b.jsxs)("p",{className:"text-sm text-primary",children:[(0,b.jsx)("strong",{children:"CTA:"})," ",a.ctaText," â†’ ",a.ctaLink]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>{u(a),s(!0)},className:"flex-1",children:[(0,b.jsx)(i.Edit,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>x(a._id),className:"text-red-600 hover:bg-red-50",children:(0,b.jsx)(j.Trash2,{className:"w-4 h-4"})})]})]})]})},a._id))}),(0,b.jsx)(l.default,{delay:.3,children:(0,b.jsxs)(d.Card,{className:"mt-8 border-2 border-secondary/50 bg-secondary/20",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Video,{className:"w-5 h-5 text-primary"}),"Video Upload Instructions"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"1. Local Video Files:"})," Place your video in ",(0,b.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"public/video/"})," folder"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"2. Use Path:"})," Enter ",(0,b.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"/video/hero.mp4"})," in the Video URL field"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"3. Recommended Format:"})," MP4 (H.264), max 50MB for web performance"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"4. External URLs:"})," You can also use URLs like ",(0,b.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"https://cdn.example.com/video.mp4"})]})]})})]})})]})}a.s(["default",()=>q],51784)}];

//# sourceMappingURL=Official_SbWebsite_client_app_%28admin-panel%29_admin_banners_page_tsx_381edfdb._.js.map