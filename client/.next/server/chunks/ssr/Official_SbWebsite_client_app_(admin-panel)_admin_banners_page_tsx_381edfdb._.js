module.exports=[51784,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(82277),e=a.i(6873),f=a.i(88641),g=a.i(46969),h=a.i(36830),i=a.i(80353),j=a.i(77574),k=a.i(86793);let l=(0,a.i(22649).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var m=a.i(79128),n=a.i(69922),o=a.i(26214),p=a.i(26090);function q({banner:a,defaultLocation:d="home",onClose:e,onSave:f}){let[g,j]=(0,c.useState)({title:a?.title||"",subtitle:a?.subtitle||"",description:a?.description||"",mediaType:a?.mediaType||"image",imageUrl:a?.imageUrl||"",videoUrl:a?.videoUrl||"",thumbnailUrl:a?.thumbnailUrl||"",ctaText:a?.ctaText||"",ctaLink:a?.ctaLink||"",location:a?.location||d,priority:a?.priority||0,isActive:a?.isActive??!0,startDate:a?.startDate?new Date(a.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expiryDate:a?.expiryDate?new Date(a.expiryDate).toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().split("T")[0],showOnFirstFace:a?.showOnFirstFace??!0}),[k,l]=(0,c.useState)({}),m=a=>{let b;a.preventDefault(),b={},g.title.trim()||(b.title="Title is required"),g.description.trim()||(b.description="Description is required"),"image"!==g.mediaType||g.imageUrl.trim()||(b.imageUrl="Image is required"),"video"!==g.mediaType||g.videoUrl.trim()||(b.videoUrl="Video is required"),new Date(g.startDate)>new Date(g.expiryDate)&&(b.expiryDate="Expiry date must be after start date"),l(b),0===Object.keys(b).length&&f(g)},q=(a,b)=>{j(c=>({...c,[a]:b})),k[a]&&l(b=>({...b,[a]:void 0}))};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full my-8",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between rounded-t-xl",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Hero Banner":"Add New Hero Banner"}),(0,b.jsx)("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(n.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:m,className:"p-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Media Type ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${"image"===g.mediaType?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"mediaType",value:"image",checked:"image"===g.mediaType,onChange:()=>q("mediaType","image"),className:"sr-only"}),(0,b.jsx)(i.Image,{className:`w-6 h-6 ${"image"===g.mediaType?"text-primary":"text-gray-400"}`}),(0,b.jsx)("span",{className:`font-semibold ${"image"===g.mediaType?"text-primary":"text-gray-600"}`,children:"Image"})]}),(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${"video"===g.mediaType?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"mediaType",value:"video",checked:"video"===g.mediaType,onChange:()=>q("mediaType","video"),className:"sr-only"}),(0,b.jsx)(h.Video,{className:`w-6 h-6 ${"video"===g.mediaType?"text-primary":"text-gray-400"}`}),(0,b.jsx)("span",{className:`font-semibold ${"video"===g.mediaType?"text-primary":"text-gray-600"}`,children:"Video"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Display Location ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 border-2 rounded-lg cursor-pointer transition-all ${"home"===g.location?"border-secondary bg-secondary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"location",value:"home",checked:"home"===g.location,onChange:()=>q("location","home"),className:"sr-only"}),(0,b.jsx)("span",{className:`font-semibold ${"home"===g.location?"text-secondary":"text-gray-600"}`,children:"Home Page"})]}),(0,b.jsxs)("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 border-2 rounded-lg cursor-pointer transition-all ${"benevity"===g.location?"border-secondary bg-secondary/5":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("input",{type:"radio",name:"location",value:"benevity",checked:"benevity"===g.location,onChange:()=>q("location","benevity"),className:"sr-only"}),(0,b.jsx)("span",{className:`font-semibold ${"benevity"===g.location?"text-secondary":"text-gray-600"}`,children:"Benevity Page"})]})]})]})]}),"image"===g.mediaType?(0,b.jsx)(p.default,{type:"image",currentUrl:g.imageUrl,onUploadComplete:a=>q("imageUrl",a),label:"Hero Image *",maxSize:10}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(p.default,{type:"video",currentUrl:g.videoUrl,onUploadComplete:a=>q("videoUrl",a),label:"Hero Video *",maxSize:50}),(0,b.jsx)(p.default,{type:"image",currentUrl:g.thumbnailUrl,onUploadComplete:a=>q("thumbnailUrl",a),label:"Video Thumbnail (Poster Image)",maxSize:5})]}),k.imageUrl&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:k.imageUrl}),k.videoUrl&&(0,b.jsx)("p",{className:"text-red-500 text-sm",children:k.videoUrl}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:g.title,onChange:a=>q("title",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${k.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., India's First No-Bill Hospital"}),k.title&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:k.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subtitle"}),(0,b.jsx)("input",{type:"text",value:g.subtitle,onChange:a=>q("subtitle",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Compassionate Care for All"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:g.description,onChange:a=>q("description",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${k.description?"border-red-500":"border-gray-300"}`,placeholder:"Brief description for the hero section...",rows:3}),k.description&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:k.description})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CTA Button Text"}),(0,b.jsx)("input",{type:"text",value:g.ctaText,onChange:a=>q("ctaText",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Donate Now"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CTA Link"}),(0,b.jsx)("input",{type:"text",value:g.ctaLink,onChange:a=>q("ctaLink",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., /donate"})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,b.jsx)("input",{type:"number",value:g.priority,onChange:a=>q("priority",parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",min:"0"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Higher = shows first"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:g.startDate,onChange:a=>q("startDate",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expiry Date"}),(0,b.jsx)("input",{type:"date",value:g.expiryDate,onChange:a=>q("expiryDate",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${k.expiryDate?"border-red-500":"border-gray-300"}`}),k.expiryDate&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:k.expiryDate})]})]}),(0,b.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.isActive,onChange:a=>q("isActive",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Active"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Banner is visible on homepage"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.showOnFirstFace,onChange:a=>q("showOnFirstFace",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Show on First Face"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Display in hero carousel rotation"})]})]})]})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 bg-white border-t px-6 py-4 flex gap-3 rounded-b-xl",children:[(0,b.jsx)("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,b.jsxs)("button",{onClick:m,className:"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(o.Save,{className:"w-5 h-5"}),a?"Update Banner":"Create Banner"]})]})]})})}function r(){let n=(0,d.useSearchParams)().get("location"),o="benevity"===n?"benevity":"home",[p,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{y()},[o]);let y=async()=>{try{t(!0);let{getBanners:b}=await a.A(97057),c=await b(n||"home");r(c),t(!1)}catch(a){console.error("Error fetching banners:",a),t(!1)}},z=async b=>{try{if(w){let{updateBanner:c}=await a.A(97057);await c(w._id,b)}else{let{createBanner:c}=await a.A(97057);await c(b)}v(!1),x(null),y()}catch(a){console.error("Error saving banner:",a),alert("Failed to save banner")}},A=async b=>{if(confirm("Are you sure you want to delete this banner?"))try{let{deleteBanner:c}=await a.A(97057);await c(b),y()}catch(a){console.error("Error deleting banner:",a),alert("Failed to delete banner")}};return s?(0,b.jsx)("div",{className:"p-8",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)("div",{className:"text-lg text-gray-600",children:"Loading banners..."})})}):(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"benevity"===o?"Benevity Impact Banners":"Hero Banners & Videos"}),(0,b.jsx)("p",{className:"text-gray-600",children:"benevity"===o?"Manage sliders for the Benevity page":"Manage homepage hero section content"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:["benevity"===o&&(0,b.jsxs)(f.Button,{onClick:async()=>{try{let{seedBenevityBanners:b}=await a.A(97057),c=await b();c.success?(alert(c.message),y()):alert("Failed to seed: "+(c.error||c.message||"Unknown error"))}catch(a){console.error(a),alert("Error seeding banners. Ensure backend is running.")}},variant:"outline",className:"gap-2",children:[(0,b.jsx)(l,{className:"w-4 h-4"}),"Seed Defaults"]}),(0,b.jsxs)(f.Button,{onClick:()=>{x(null),v(!0)},className:"gap-2",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Add Banner"]})]})]}),u&&(0,b.jsx)(q,{banner:w,defaultLocation:o,onClose:()=>{v(!1),x(null)},onSave:z})]}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:0===p.length?(0,b.jsx)("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No banners found. Create your first banner!"}):p.map((a,c)=>(0,b.jsx)(m.default,{delay:.1*c,children:(0,b.jsxs)(e.Card,{className:"border-2 hover:border-secondary transition-all h-full flex flex-col",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["video"===a.mediaType?(0,b.jsx)(h.Video,{className:"w-5 h-5 text-primary"}):(0,b.jsx)(i.Image,{className:"w-5 h-5 text-secondary"}),(0,b.jsx)(e.CardTitle,{className:"text-lg",children:a.title})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:["benevity"===a.location?(0,b.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded font-medium border border-purple-200",children:"Benevity"}):(0,b.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded font-medium border border-blue-200",children:"Home"}),!a.isActive&&(0,b.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"Inactive"}),(0,b.jsxs)("span",{className:"text-xs bg-secondary/30 text-primary px-2 py-1 rounded",children:["#",a.order]})]})]})}),(0,b.jsxs)(e.CardContent,{className:"flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden mb-4",children:"video"===a.mediaType?(0,b.jsx)("video",{src:a.videoUrl,poster:a.thumbnailUrl,className:"w-full h-full object-cover",muted:!0}):(0,b.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"space-y-2 flex-1",children:[a.subtitle&&(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,b.jsx)("strong",{children:"Subtitle:"})," ",a.subtitle]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.description}),a.ctaText&&(0,b.jsxs)("p",{className:"text-sm text-primary",children:[(0,b.jsx)("strong",{children:"CTA:"})," ",a.ctaText," â†’ ",a.ctaLink]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{x(a),v(!0)},className:"flex-1",children:[(0,b.jsx)(j.Edit,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:()=>A(a._id),className:"text-red-600 hover:bg-red-50",children:(0,b.jsx)(k.Trash2,{className:"w-4 h-4"})})]})]})]})},a._id))}),(0,b.jsx)(m.default,{delay:.3,children:(0,b.jsxs)(e.Card,{className:"mt-8 border-2 border-secondary/50 bg-secondary/20",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Video,{className:"w-5 h-5 text-primary"}),"Video Upload Instructions"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"1. Local Video Files:"})," Place your video in ",(0,b.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"public/video/"})," folder"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"2. Use Path:"})," Enter ",(0,b.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"/video/hero.mp4"})," in the Video URL field"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"3. Recommended Format:"})," MP4 (H.264), max 50MB for web performance"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"4. External URLs:"})," You can also use URLs like ",(0,b.jsx)("code",{className:"bg-white px-2 py-1 rounded",children:"https://cdn.example.com/video.mp4"})]})]})})]})})]})}function s(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"p-8",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)("div",{className:"text-lg text-gray-600",children:"Initializing..."})})}),children:(0,b.jsx)(r,{})})}a.s(["default",()=>s],51784)}];

//# sourceMappingURL=Official_SbWebsite_client_app_%28admin-panel%29_admin_banners_page_tsx_381edfdb._.js.map