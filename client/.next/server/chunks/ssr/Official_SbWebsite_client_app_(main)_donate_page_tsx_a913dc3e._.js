module.exports=[39803,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(82277),e=a.i(88641),f=a.i(6873),g=a.i(45094),h=a.i(26718);let i=c.createContext(void 0);function j(){let a=c.useContext(i);if(!a)throw Error("useTabs must be used within a Tabs component");return a}function k({defaultValue:a,value:d,onValueChange:e,children:f,className:g}){let[j,k]=c.useState(a||""),l=void 0!==d?d:j,m=c.useCallback(a=>{e&&e(a),void 0===d&&k(a)},[e,d]);return(0,b.jsx)(i.Provider,{value:{activeTab:l,setActiveTab:m},children:(0,b.jsx)("div",{className:(0,h.cn)("w-full",g),children:f})})}function l({children:a,className:c}){return(0,b.jsx)("div",{className:(0,h.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",c),children:a})}function m({value:a,children:c,className:d}){let{activeTab:e,setActiveTab:f}=j(),g=e===a;return(0,b.jsx)("button",{className:(0,h.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",g?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",d),onClick:()=>f(a),children:c})}function n({value:a,children:c,className:d}){let{activeTab:e}=j();return e!==a?null:(0,b.jsx)("div",{className:(0,h.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",d),children:c})}var o=a.i(33398),p=a.i(63270),q=a.i(48487),r=a.i(33980),s=a.i(20775),t=a.i(75247),u=a.i(35163),v=a.i(28253),w=a.i(17904);let x="http://127.0.0.1:5002",y=x.endsWith("/api")?x.slice(0,-4):x;function z(){let a=(0,d.useSearchParams)(),h=a.get("tab"),i=a.get("campaign"),[j,x]=(0,c.useState)(h||"general"),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(),[J,K]=(0,c.useState)(),[L,M]=(0,c.useState)(),[N,O]=(0,c.useState)({donorName:"",email:"",amount:"",panNumber:"",address:"",notes:""}),[P,Q]=(0,c.useState)({subscriberName:"",email:"",amount:"",panNumber:"",address:""}),[R,S]=(0,c.useState)({donorName:"",email:"",amount:"",panNumber:"",address:""});(0,c.useEffect)(()=>{T()},[]),(0,c.useEffect)(()=>{h&&["general","fellowship","campaign"].includes(h)&&x(h)},[h]),(0,c.useEffect)(()=>{if(i&&B.length>0){let a=B.find(a=>a.slug===i);a&&(G(a),x("campaign"))}},[i,B]);let T=async()=>{try{let a=await fetch(`${y}/api/campaign/active`),b=await a.json();b.success&&C(b.campaigns)}catch(a){console.error("Failed to fetch campaigns:",a)}finally{E(!1)}},U=async a=>{a.preventDefault(),A(!0);try{let a=await fetch(`${y}/api/donation/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,phone:H||"",amount:parseFloat(N.amount),donationType:"general"})}),b=await a.json();b.success&&b.paymentUrl?window.location.href=b.paymentUrl:alert(b.error||"Failed to initiate payment")}catch(a){console.error("Payment error:",a),alert("Failed to initiate payment")}finally{A(!1)}},V=async a=>{a.preventDefault(),A(!0);try{let a=await fetch(`${y}/api/fellowship`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriberName:P.subscriberName,email:P.email,phone:J||"",monthlyAmount:parseFloat(P.amount),panNumber:P.panNumber,address:P.address})}),b=await a.json();if(!b.success){alert(b.error||"Failed to create fellowship"),A(!1);return}let c=await fetch(`${y}/api/donation/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({donorName:P.subscriberName,email:P.email,phone:J||"",amount:parseFloat(P.amount),panNumber:P.panNumber,address:P.address,donationType:"fellowship",fellowshipId:b.fellowship.id||b.fellowship._id})}),d=await c.json();d.success&&d.paymentUrl?window.location.href=d.paymentUrl:alert(d.error||"Failed to initiate payment")}catch(a){console.error("Payment error:",a),alert("Failed to initiate payment")}finally{A(!1)}},W=async a=>{if(a.preventDefault(),!F)return void alert("Please select a campaign");A(!0);try{let a=await fetch(`${y}/api/donation/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...R,phone:L||"",amount:parseFloat(R.amount),donationType:"campaign",campaignId:F._id})}),b=await a.json();b.success&&b.paymentUrl?window.location.href=b.paymentUrl:alert(b.error||"Failed to initiate payment")}catch(a){console.error("Payment error:",a),alert("Failed to initiate payment")}finally{A(!1)}},X=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),Y=(a,b)=>Math.min(Math.round(a/b*100),100);return(0,b.jsxs)("div",{className:"flex flex-col min-h-screen bg-white",children:[(0,b.jsxs)("section",{className:"bg-gradient-to-r from-primary to-primary/90 py-16 text-center",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Support Our Cause"}),(0,b.jsx)("p",{className:"text-white/90 max-w-2xl mx-auto px-4",children:'Our income is only from donations, not from services. Help us keep Shanthibhavan a "No-Bill" hospital.'})]}),(0,b.jsx)("section",{className:"py-12 md:py-16 lg:py-20",children:(0,b.jsxs)("div",{className:"container px-4 md:px-6 mx-auto max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-8 md:mb-12 text-center space-y-4",children:[(0,b.jsx)(p.Heart,{className:"w-10 h-10 md:w-12 md:h-12 text-secondary mx-auto"}),(0,b.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-primary",children:"A Light of Compassion"}),(0,b.jsx)("p",{className:"text-gray-800 leading-relaxed text-base md:text-lg max-w-3xl mx-auto",children:"Shanthibhavan runs entirely on the goodwill of generous hearts like yours. We do not charge for any of our services. From specialized medical care to daily food and accommodation for patients and bystanders, everything is free."})]}),(0,b.jsxs)(k,{value:j,onValueChange:x,className:"w-full",children:[(0,b.jsxs)(l,{className:"grid w-full grid-cols-3 mb-8",children:[(0,b.jsxs)(m,{value:"general",className:"flex items-center gap-2",children:[(0,b.jsx)(p.Heart,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"General"})]}),(0,b.jsxs)(m,{value:"fellowship",className:"flex items-center gap-2",children:[(0,b.jsx)(q.Users,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Fellowship"})]}),(0,b.jsxs)(m,{value:"campaign",className:"flex items-center gap-2",children:[(0,b.jsx)(r.Target,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Campaign"})]})]}),(0,b.jsx)(n,{value:"general",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Heart,{className:"w-5 h-5 text-primary"}),"One-Time Donation"]}),(0,b.jsx)(f.CardDescription,{children:"Make a one-time contribution to support our mission. Every rupee helps provide free healthcare to those in need."})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),(0,b.jsx)(g.Input,{required:!0,value:N.donorName,onChange:a=>O({...N,donorName:a.target.value}),placeholder:"Enter your full name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,b.jsx)(g.Input,{type:"email",required:!0,value:N.email,onChange:a=>O({...N,email:a.target.value}),placeholder:"your@email.com"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),(0,b.jsx)(w.default,{international:!0,defaultCountry:"IN",value:H,onChange:I,className:"phone-input-custom"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"PAN Number (for 80G receipt)"}),(0,b.jsx)(g.Input,{value:N.panNumber,onChange:a=>O({...N,panNumber:a.target.value.toUpperCase()}),placeholder:"ABCDE1234F",maxLength:10})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,b.jsx)(g.Input,{value:N.address,onChange:a=>O({...N,address:a.target.value}),placeholder:"Your complete address"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Amount (INR) *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.IndianRupee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,b.jsx)(g.Input,{type:"number",required:!0,min:"1",value:N.amount,onChange:a=>O({...N,amount:a.target.value}),placeholder:"Enter amount",className:"pl-9"})]}),(0,b.jsx)("div",{className:"flex gap-2 mt-2",children:[500,1e3,2500,5e3].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>O({...N,amount:a.toString()}),className:"px-3 py-1 text-sm border rounded-md hover:bg-primary hover:text-white transition-colors",children:X(a)},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notes (optional)"}),(0,b.jsx)(g.Input,{value:N.notes,onChange:a=>O({...N,notes:a.target.value}),placeholder:"Any message or dedication"})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:z,className:"w-full",size:"lg",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:["Donate Now",(0,b.jsx)(t.ArrowRight,{className:"w-4 h-4 ml-2"})]})})]})})]})}),(0,b.jsx)(n,{value:"fellowship",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Users,{className:"w-5 h-5 text-primary"}),"Fellowship Program"]}),(0,b.jsx)(f.CardDescription,{children:"Join our fellowship program with a monthly contribution. Your regular support helps us plan and sustain our services better."})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"bg-secondary/20 border border-secondary/50 p-4 rounded-lg mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-primary font-medium mb-2",children:[(0,b.jsx)(u.Calendar,{className:"w-4 h-4"}),"Monthly Giving Benefits"]}),(0,b.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1 ml-6 list-disc",children:[(0,b.jsx)("li",{children:"Predictable support helps us plan long-term programs"}),(0,b.jsx)("li",{children:"Receive monthly updates on how your contribution helps"}),(0,b.jsx)("li",{children:"Special recognition in our annual report"}),(0,b.jsx)("li",{children:"80G tax exemption certificate for each payment"})]})]}),(0,b.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),(0,b.jsx)(g.Input,{required:!0,value:P.subscriberName,onChange:a=>Q({...P,subscriberName:a.target.value}),placeholder:"Enter your full name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,b.jsx)(g.Input,{type:"email",required:!0,value:P.email,onChange:a=>Q({...P,email:a.target.value}),placeholder:"your@email.com"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),(0,b.jsx)(w.default,{international:!0,defaultCountry:"IN",value:J,onChange:K,className:"phone-input-custom"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"PAN Number *"}),(0,b.jsx)(g.Input,{required:!0,value:P.panNumber,onChange:a=>Q({...P,panNumber:a.target.value.toUpperCase()}),placeholder:"ABCDE1234F",maxLength:10})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,b.jsx)(g.Input,{value:P.address,onChange:a=>Q({...P,address:a.target.value}),placeholder:"Your complete address"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Monthly Amount (INR) *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.IndianRupee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,b.jsx)(g.Input,{type:"number",required:!0,min:"100",value:P.amount,onChange:a=>Q({...P,amount:a.target.value}),placeholder:"Enter monthly amount",className:"pl-9"})]}),(0,b.jsx)("div",{className:"flex gap-2 mt-2",children:[500,1e3,2e3,5e3].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>Q({...P,amount:a.toString()}),className:"px-3 py-1 text-sm border rounded-md hover:bg-primary hover:text-white transition-colors",children:[X(a),"/mo"]},a))})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:z,className:"w-full",size:"lg",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:["Start Fellowship",(0,b.jsx)(t.ArrowRight,{className:"w-4 h-4 ml-2"})]})})]})]})]})}),(0,b.jsx)(n,{value:"campaign",children:(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Target,{className:"w-5 h-5 text-primary"}),"Donation Campaigns"]}),(0,b.jsx)(f.CardDescription,{children:"Support our active campaigns and help us reach specific goals for important initiatives."})]}),(0,b.jsx)(f.CardContent,{children:D?(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)(s.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):0===B.length?(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,b.jsx)(r.Target,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No active campaigns at the moment."}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"Please check back later or make a general donation."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Select a Campaign *"}),(0,b.jsx)("div",{className:"grid gap-4",children:B.map(a=>(0,b.jsxs)("div",{onClick:()=>G(a),className:`border rounded-lg p-4 cursor-pointer transition-all ${F?._id===a._id?"border-primary bg-primary/5 ring-2 ring-primary":"hover:border-gray-400"}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h4",{className:"font-semibold text-lg",children:a.title}),(0,b.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Active"})]}),a.shortDescription&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.shortDescription}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:[X(a.raisedAmount)," raised"]}),(0,b.jsxs)("span",{className:"font-medium",children:[X(a.goalAmount)," goal"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Y(a.raisedAmount,a.goalAmount)}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:[Y(a.raisedAmount,a.goalAmount),"% funded"]}),(0,b.jsxs)("span",{children:[a.donorCount," donors"]})]})]})]},a._id))})]}),F&&(0,b.jsxs)("form",{onSubmit:W,className:"space-y-4 border-t pt-6",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),(0,b.jsx)(g.Input,{required:!0,value:R.donorName,onChange:a=>S({...R,donorName:a.target.value}),placeholder:"Enter your full name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,b.jsx)(g.Input,{type:"email",required:!0,value:R.email,onChange:a=>S({...R,email:a.target.value}),placeholder:"your@email.com"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),(0,b.jsx)(w.default,{international:!0,defaultCountry:"IN",value:L,onChange:M,className:"phone-input-custom"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"PAN Number (for 80G receipt)"}),(0,b.jsx)(g.Input,{value:R.panNumber,onChange:a=>S({...R,panNumber:a.target.value.toUpperCase()}),placeholder:"ABCDE1234F",maxLength:10})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,b.jsx)(g.Input,{value:R.address,onChange:a=>S({...R,address:a.target.value}),placeholder:"Your complete address"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Amount (INR) *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.IndianRupee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,b.jsx)(g.Input,{type:"number",required:!0,min:"1",value:R.amount,onChange:a=>S({...R,amount:a.target.value}),placeholder:"Enter amount",className:"pl-9"})]}),(0,b.jsx)("div",{className:"flex gap-2 mt-2",children:[500,1e3,2500,5e3].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>S({...R,amount:a.toString()}),className:"px-3 py-1 text-sm border rounded-md hover:bg-primary hover:text-white transition-colors",children:X(a)},a))})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:z,className:"w-full",size:"lg",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:["Donate to ",F.title,(0,b.jsx)(t.ArrowRight,{className:"w-4 h-4 ml-2"})]})})]})]})})]})})]}),(0,b.jsxs)("div",{className:"mt-12 bg-secondary/20 border border-secondary/50 p-8 rounded-xl text-center space-y-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-primary",children:"Corporate Giving?"}),(0,b.jsx)("p",{className:"text-primary/80",children:"We are registered on Benevity! If your company uses Benevity for corporate giving or matching donations, you can support us there."}),(0,b.jsx)(e.Button,{asChild:!0,className:"bg-primary hover:bg-primary/90",children:(0,b.jsx)(o.default,{href:"/benevity",children:"Learn About Benevity"})})]})]})})]})}function A(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"flex flex-col min-h-screen bg-white items-center justify-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading donation options..."})]}),children:(0,b.jsx)(z,{})})}a.s(["default",()=>A],39803)}];

//# sourceMappingURL=Official_SbWebsite_client_app_%28main%29_donate_page_tsx_a913dc3e._.js.map