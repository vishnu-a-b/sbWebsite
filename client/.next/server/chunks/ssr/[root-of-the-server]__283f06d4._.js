module.exports=[7634,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(67917)},84593,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},82093,(a,b,c)=>{b.exports=a.x("mongoose-652d8ab43b4c14f9",()=>require("mongoose-652d8ab43b4c14f9"))},16674,a=>{"use strict";var b=a.i(82093);let c=process.env.MONGODB_URI,d=global.mongoose||{conn:null,promise:null};async function e(){if(!c)return console.warn("MONGODB_URI is not defined in environment variables. Database operations will fail."),null;if(d.conn)return d.conn;d.promise||(d.promise=b.default.connect(c,{bufferCommands:!1}).then(a=>a));try{d.conn=await d.promise}catch(a){throw d.promise=null,a}return d.conn}d||(d=global.mongoose={conn:null,promise:null}),a.s(["default",0,e])},13603,a=>{"use strict";var b=a.i(7634),c=a.i(16674),d=a.i(82093);let e=new d.Schema({title:{type:String,required:!0},description:{type:String},subtitle:{type:String},mediaType:{type:String,enum:["image","video"],default:"image"},imageUrl:{type:String},videoUrl:{type:String},thumbnailUrl:{type:String},ctaText:{type:String},ctaLink:{type:String},location:{type:String,enum:["home","benevity"],default:"home"},priority:{type:Number,default:0},isActive:{type:Boolean,default:!0},startDate:{type:Date,required:!0},expiryDate:{type:Date,required:!0},showOnFirstFace:{type:Boolean,default:!0}},{timestamps:!0}),f=d.models.Banner||(0,d.model)("Banner",e);async function g(a){await (0,c.default)();try{let b={};a&&("home"===a?b.$or=[{location:"home"},{location:{$exists:!1}}]:b.location=a);let c=await f.find(b).sort({order:1}).lean();return JSON.parse(JSON.stringify(c))}catch(a){return console.error("Failed to fetch banners",a),[]}}async function h(a){await (0,c.default)();try{a.location||(a.location="home");let b=await f.create(a);return JSON.parse(JSON.stringify(b))}catch(a){throw console.error("Failed to create banner",a),a}}async function i(a,b){await (0,c.default)();try{let c=await f.findByIdAndUpdate(a,b,{new:!0});return JSON.parse(JSON.stringify(c))}catch(a){throw console.error("Failed to update banner",a),a}}async function j(a){await (0,c.default)();try{return await f.findByIdAndDelete(a),{success:!0}}catch(a){throw console.error("Failed to delete banner",a),a}}async function k(){try{let a="http://127.0.0.1:5001".replace("localhost","127.0.0.1"),b=await fetch(`${a}/api/benevity/banners/seed`,{method:"POST",cache:"no-store"});if(!b.ok){let a=await b.text();return console.error("Seed Error Response:",b.status,a,b.headers),{success:!1,error:`Backend returned ${b.status}: ${a}`}}return await b.json()}catch(a){return console.error("Error seeding banners:",a),{success:!1,error:"Failed to connect to backend"}}}(0,a.i(84593).ensureServerEntryExports)([g,h,i,j,k]),(0,b.registerServerReference)(g,"40b1a0fce55538418938d5229c099d2024cc3dba08",null),(0,b.registerServerReference)(h,"40797285b2da184935ae23c309bb84a3cc6afcb9b7",null),(0,b.registerServerReference)(i,"60d270839c0a937488865b8378e0d6e79f40b33e4e",null),(0,b.registerServerReference)(j,"40e35b9199270eee0c7d67202b4ec0be96c5e4bc34",null),(0,b.registerServerReference)(k,"00709c903ef0f94aefe62a5a782b91c5ea609bc679",null),a.s(["createBanner",()=>h,"deleteBanner",()=>j,"getBanners",()=>g,"seedBenevityBanners",()=>k,"updateBanner",()=>i],13603)},21083,a=>{"use strict";var b=a.i(13603);a.s([],24325),a.i(24325),a.s(["00709c903ef0f94aefe62a5a782b91c5ea609bc679",()=>b.seedBenevityBanners,"40797285b2da184935ae23c309bb84a3cc6afcb9b7",()=>b.createBanner,"40b1a0fce55538418938d5229c099d2024cc3dba08",()=>b.getBanners,"40e35b9199270eee0c7d67202b4ec0be96c5e4bc34",()=>b.deleteBanner,"60d270839c0a937488865b8378e0d6e79f40b33e4e",()=>b.updateBanner],21083)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__283f06d4._.js.map