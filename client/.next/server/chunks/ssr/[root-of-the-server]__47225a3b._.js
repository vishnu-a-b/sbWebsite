module.exports=[28640,a=>{"use strict";var b=a.i(7634),c=a.i(84593);let d="http://127.0.0.1:5001";async function e(){try{let a=await fetch(`${d}/api/news-events/admin`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch news/events");return(await a.json()).items||[]}catch(a){return console.error("Error fetching news/events:",a),[]}}async function f(){try{let a=await fetch(`${d}/api/news-events`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch public news/events");return(await a.json()).items||[]}catch(a){return console.error("Error fetching public news/events:",a),[]}}async function g(a){try{let b=await fetch(`${d}/api/news-events/${a}`,{cache:"no-store"});if(!b.ok)throw Error("Failed to fetch news/event");return(await b.json()).newsEvent}catch(a){throw console.error("Error fetching news/event:",a),a}}async function h(a){try{let b=await fetch(`${d}/api/news-events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to create news/event");return(await b.json()).newsEvent}catch(a){throw console.error("Error creating news/event:",a),a}}async function i(a,b){try{let c=await fetch(`${d}/api/news-events/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to update news/event");return(await c.json()).newsEvent}catch(a){throw console.error("Error updating news/event:",a),a}}async function j(a){try{if(!(await fetch(`${d}/api/news-events/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete news/event");return!0}catch(a){throw console.error("Error deleting news/event:",a),a}}(0,c.ensureServerEntryExports)([e,f,g,h,i,j]),(0,b.registerServerReference)(e,"008b6f0eb9837c9e9ba9e95247581147e8d61431b6",null),(0,b.registerServerReference)(f,"008c1ce485684d66a2d506182f33e1d88fd366d7c6",null),(0,b.registerServerReference)(g,"40aa091f1f7b32c0cd5b6a5d28f1bf0129931b3641",null),(0,b.registerServerReference)(h,"40e19220d44788db16ca6f5970f5315d81449f6d29",null),(0,b.registerServerReference)(i,"60977d6a3fb994f2ae6d4ccb83920d1d69fe750bd7",null),(0,b.registerServerReference)(j,"40442cad095725ca7e359e5e93f5e03df0d72dcf4b",null),a.s(["createNewsEvent",()=>h,"deleteNewsEvent",()=>j,"getNewsEvent",()=>g,"getNewsEvents",()=>e,"getPublicNewsEvents",()=>f,"updateNewsEvent",()=>i])},95565,a=>{"use strict";var b=a.i(7634),c=a.i(84593);let d="http://127.0.0.1:5001";async function e(){try{console.log(`Fetching services from: ${d}/api/services`);let a=await fetch(`${d}/api/services`,{cache:"no-store"});if(!a.ok)throw console.error(`getServices: Fetch failed with status: ${a.status}`),Error("Failed to fetch services");let b=await a.json();return console.log(`getServices: Fetched ${b.services?.length} services`),b.services||[]}catch(a){console.error("Failed to fetch services",a)}}async function f(a){try{let b=await fetch(`${d}/api/services/slug/${a}`,{cache:"no-store"});if(!b.ok)return console.error(`getServiceBySlug: Fetch failed with status: ${b.status}`),null;return(await b.json()).service}catch(a){return console.error("Failed to fetch service by slug",a),null}}(0,c.ensureServerEntryExports)([e,f]),(0,b.registerServerReference)(e,"003f50ae0e7113f8a26e01c4d28d8dc245b0856c30",null),(0,b.registerServerReference)(f,"40c4811317dd7334572a00427ee0e11577b9df84e8",null),a.s(["getServiceBySlug",()=>f,"getServices",()=>e])},7634,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(67917)},84593,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},82093,(a,b,c)=>{b.exports=a.x("mongoose-652d8ab43b4c14f9",()=>require("mongoose-652d8ab43b4c14f9"))},16674,a=>{"use strict";var b=a.i(82093);let c=process.env.MONGODB_URI,d=global.mongoose||{conn:null,promise:null};async function e(){if(!c)return console.warn("MONGODB_URI is not defined in environment variables. Database operations will fail."),null;if(d.conn)return d.conn;d.promise||(d.promise=b.default.connect(c,{bufferCommands:!1}).then(a=>a));try{d.conn=await d.promise}catch(a){throw d.promise=null,a}return d.conn}d||(d=global.mongoose={conn:null,promise:null}),a.s(["default",0,e])},13603,a=>{"use strict";var b=a.i(7634),c=a.i(16674),d=a.i(82093);let e=new d.Schema({title:{type:String,required:!0},description:{type:String},subtitle:{type:String},mediaType:{type:String,enum:["image","video"],default:"image"},imageUrl:{type:String},videoUrl:{type:String},thumbnailUrl:{type:String},ctaText:{type:String},ctaLink:{type:String},location:{type:String,enum:["home","benevity"],default:"home"},priority:{type:Number,default:0},isActive:{type:Boolean,default:!0},startDate:{type:Date,required:!0},expiryDate:{type:Date,required:!0},showOnFirstFace:{type:Boolean,default:!0}},{timestamps:!0}),f=d.models.Banner||(0,d.model)("Banner",e);async function g(a){await (0,c.default)();try{let b={};a&&("home"===a?b.$or=[{location:"home"},{location:{$exists:!1}}]:b.location=a);let c=await f.find(b).sort({order:1}).lean();return JSON.parse(JSON.stringify(c))}catch(a){return console.error("Failed to fetch banners",a),[]}}async function h(a){await (0,c.default)();try{a.location||(a.location="home");let b=await f.create(a);return JSON.parse(JSON.stringify(b))}catch(a){throw console.error("Failed to create banner",a),a}}async function i(a,b){await (0,c.default)();try{let c=await f.findByIdAndUpdate(a,b,{new:!0});return JSON.parse(JSON.stringify(c))}catch(a){throw console.error("Failed to update banner",a),a}}async function j(a){await (0,c.default)();try{return await f.findByIdAndDelete(a),{success:!0}}catch(a){throw console.error("Failed to delete banner",a),a}}async function k(){try{let a="http://127.0.0.1:5001".replace("localhost","127.0.0.1"),b=await fetch(`${a}/api/benevity/banners/seed`,{method:"POST",cache:"no-store"});if(!b.ok){let a=await b.text();return console.error("Seed Error Response:",b.status,a,b.headers),{success:!1,error:`Backend returned ${b.status}: ${a}`}}return await b.json()}catch(a){return console.error("Error seeding banners:",a),{success:!1,error:"Failed to connect to backend"}}}(0,a.i(84593).ensureServerEntryExports)([g,h,i,j,k]),(0,b.registerServerReference)(g,"40b1a0fce55538418938d5229c099d2024cc3dba08",null),(0,b.registerServerReference)(h,"40797285b2da184935ae23c309bb84a3cc6afcb9b7",null),(0,b.registerServerReference)(i,"60d270839c0a937488865b8378e0d6e79f40b33e4e",null),(0,b.registerServerReference)(j,"40e35b9199270eee0c7d67202b4ec0be96c5e4bc34",null),(0,b.registerServerReference)(k,"00709c903ef0f94aefe62a5a782b91c5ea609bc679",null),a.s(["createBanner",()=>h,"deleteBanner",()=>j,"getBanners",()=>g,"seedBenevityBanners",()=>k,"updateBanner",()=>i],13603)},58855,a=>{"use strict";var b=a.i(7634),c=a.i(84593);let d="http://127.0.0.1:5001";async function e(){try{let a=`${d}/api/awards/admin`;console.log("[Awards] Fetching from:",a);let b=await fetch(a,{cache:"no-store"});if(console.log("[Awards] Response status:",b.status),!b.ok){let a=await b.text();throw console.error("[Awards] Error response:",a),Error("Failed to fetch awards")}let c=await b.json();return console.log("[Awards] Fetched awards count:",c.awards?.length),c.awards||[]}catch(a){return console.error("Error fetching awards:",a),[]}}async function f(a){try{let b=await fetch(`${d}/api/awards/${a}`,{cache:"no-store"});if(!b.ok)throw Error("Failed to fetch award");return(await b.json()).award}catch(a){throw console.error("Error fetching award:",a),a}}async function g(a){try{let b=await fetch(`${d}/api/awards`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to create award");return(await b.json()).award}catch(a){throw console.error("Error creating award:",a),a}}async function h(a,b){try{let c=await fetch(`${d}/api/awards/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to update award");return(await c.json()).award}catch(a){throw console.error("Error updating award:",a),a}}async function i(a){try{if(!(await fetch(`${d}/api/awards/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete award");return!0}catch(a){throw console.error("Error deleting award:",a),a}}(0,c.ensureServerEntryExports)([e,f,g,h,i]),(0,b.registerServerReference)(e,"00ca061ef44aa147e27d10bb1e91d021f86ce8320e",null),(0,b.registerServerReference)(f,"40537865e789065c8ba3736fdfa5e5142c793f8163",null),(0,b.registerServerReference)(g,"408f1a8a311d89f646d4b4265ec7a26cfe7fb3338c",null),(0,b.registerServerReference)(h,"60e609b30585888a18175c68e123d9906abb78b10b",null),(0,b.registerServerReference)(i,"402541e06a6dff97d177402719971a940d16dca609",null),a.s(["createAward",()=>g,"deleteAward",()=>i,"getAward",()=>f,"getAwards",()=>e,"updateAward",()=>h])},48940,a=>{"use strict";var b=a.i(13603),c=a.i(95565),d=a.i(47769),e=a.i(58855),f=a.i(28640);a.s([],96556),a.i(96556),a.s(["003f50ae0e7113f8a26e01c4d28d8dc245b0856c30",()=>c.getServices,"00709c903ef0f94aefe62a5a782b91c5ea609bc679",()=>b.seedBenevityBanners,"008b6f0eb9837c9e9ba9e95247581147e8d61431b6",()=>f.getNewsEvents,"008c1ce485684d66a2d506182f33e1d88fd366d7c6",()=>f.getPublicNewsEvents,"00ca061ef44aa147e27d10bb1e91d021f86ce8320e",()=>e.getAwards,"402541e06a6dff97d177402719971a940d16dca609",()=>e.deleteAward,"4031a0ec2c91737f621f2cce532b0218cf38bcafec",()=>d.getProjects,"40442cad095725ca7e359e5e93f5e03df0d72dcf4b",()=>f.deleteNewsEvent,"40537865e789065c8ba3736fdfa5e5142c793f8163",()=>e.getAward,"40797285b2da184935ae23c309bb84a3cc6afcb9b7",()=>b.createBanner,"408f1a8a311d89f646d4b4265ec7a26cfe7fb3338c",()=>e.createAward,"409c3e8cb2694e4c38e73cb36dcb2037d81ecc44a6",()=>d.getProject,"40aa091f1f7b32c0cd5b6a5d28f1bf0129931b3641",()=>f.getNewsEvent,"40b1a0fce55538418938d5229c099d2024cc3dba08",()=>b.getBanners,"40c4811317dd7334572a00427ee0e11577b9df84e8",()=>c.getServiceBySlug,"40e19220d44788db16ca6f5970f5315d81449f6d29",()=>f.createNewsEvent,"40e35b9199270eee0c7d67202b4ec0be96c5e4bc34",()=>b.deleteBanner,"604aa66fe8a1cea12bc8ce2383422b9f1bf3716dee",()=>d.createProject,"60977d6a3fb994f2ae6d4ccb83920d1d69fe750bd7",()=>f.updateNewsEvent,"60bae16c5b18520b556320f365cdc9c1b1a703904d",()=>d.deleteProject,"60d270839c0a937488865b8378e0d6e79f40b33e4e",()=>b.updateBanner,"60e609b30585888a18175c68e123d9906abb78b10b",()=>e.updateAward,"704a0fc593f4b81aebdd8974bfe2e2e858547650bc",()=>d.updateProject],48940)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__47225a3b._.js.map