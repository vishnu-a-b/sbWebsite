module.exports=[69922,a=>{"use strict";let b=(0,a.i(22649).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],69922)},86793,a=>{"use strict";let b=(0,a.i(22649).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],86793)},46969,a=>{"use strict";let b=(0,a.i(22649).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],46969)},77574,a=>{"use strict";let b=(0,a.i(22649).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],77574)},98273,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(48487),e=a.i(46969),f=a.i(77574),g=a.i(86793),h=a.i(865),i=a.i(69922);let j="http://127.0.0.1:5002",k=[{value:"super_admin",label:"Super Admin",color:"bg-purple-100 text-purple-800"},{value:"agent",label:"Agent",color:"bg-blue-100 text-blue-800"},{value:"approver",label:"Approver",color:"bg-green-100 text-green-800"},{value:"accounts",label:"Accounts",color:"bg-orange-100 text-orange-800"}];function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)({username:"",email:"",password:"",role:"agent"}),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),y=()=>document.cookie.split("; ").find(a=>a.startsWith("admin_token="))?.split("=")[1],z=async()=>{try{let a=await fetch(`${j}/api/admin/users`,{headers:{Authorization:`Bearer ${y()}`}}),b=await a.json();b.success&&l(b.admins)}catch(a){console.error("Failed to fetch admins:",a)}finally{n(!1)}};(0,c.useEffect)(()=>{z()},[]);let A=async a=>{a.preventDefault(),x(!0),v("");try{if(q){let a=await fetch(`${j}/api/admin/users/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y()}`},body:JSON.stringify({username:s.username,email:s.email,role:s.role})}),b=await a.json();b.success?(z(),C()):v(b.error||"Failed to update admin")}else{let a=await fetch(`${j}/api/admin/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y()}`},body:JSON.stringify(s)}),b=await a.json();b.success?(z(),C()):v(b.error||"Failed to create admin")}}catch(a){v("Failed to connect to server")}finally{x(!1)}},B=async a=>{if(confirm(`Are you sure you want to deactivate ${a.username}?`))try{let b=await fetch(`${j}/api/admin/users/${a.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${y()}`}}),c=await b.json();c.success?z():alert(c.error||"Failed to deactivate admin")}catch(a){alert("Failed to connect to server")}},C=()=>{p(!1),r(null),t({username:"",email:"",password:"",role:"agent"}),v("")};return(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,b.jsx)(d.Users,{className:"w-6 h-6 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Users"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage admin accounts and roles"})]})]}),(0,b.jsxs)("button",{onClick:()=>{r(null),t({username:"",email:"",password:"",role:"agent"}),v(""),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4"}),"Add Admin"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:m?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Created"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:a.map(a=>{var c,d;let e,i;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.username}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.email})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(c=a.role,e=k.find(a=>a.value===c),e?.color||"bg-gray-100 text-gray-800")}`,children:(d=a.role,i=k.find(a=>a.value===d),i?.label||d)})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-600",children:new Date(a.createdAt).toLocaleDateString("en-IN")}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{r(a),t({username:a.username,email:a.email,password:"",role:a.role}),v(""),p(!0)},className:"p-2 hover:bg-gray-100 rounded-lg",title:"Edit",children:(0,b.jsx)(f.Edit,{className:"w-4 h-4 text-gray-600"})}),a.isActive&&(0,b.jsx)("button",{onClick:()=>B(a),className:"p-2 hover:bg-red-50 rounded-lg",title:"Deactivate",children:(0,b.jsx)(g.Trash2,{className:"w-4 h-4 text-red-600"})})]})})]},a.id)})})]})}),o&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:q?"Edit Admin":"Add New Admin"}),(0,b.jsx)("button",{onClick:C,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(i.X,{className:"w-5 h-5 text-gray-500"})})]}),u&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-4 text-sm",children:u}),(0,b.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,b.jsx)("input",{type:"text",required:!0,value:s.username,onChange:a=>t({...s,username:a.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter username"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,b.jsx)("input",{type:"email",required:!0,value:s.email,onChange:a=>t({...s,email:a.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"admin@example.com"})]}),!q&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,b.jsx)("input",{type:"password",required:!q,value:s.password,onChange:a=>t({...s,password:a.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter password"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),(0,b.jsx)("select",{required:!0,value:s.role,onChange:a=>t({...s,role:a.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",children:k.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"submit",disabled:w,className:"flex-1 bg-primary text-white py-3 rounded-xl font-semibold hover:bg-primary/90 disabled:opacity-50",children:w?"Saving...":q?"Update Admin":"Create Admin"}),(0,b.jsx)("button",{type:"button",onClick:C,className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})]})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=Official_SbWebsite_client_9d11e7fa._.js.map