module.exports=[31034,a=>{"use strict";var b=a.i(84419),c=a.i(63661),d=a.i(46969),e=a.i(77574),f=a.i(86793),g=a.i(87312),h=a.i(85142),i=a.i(68874),j=a.i(69922),k=a.i(26214),l=a.i(26090);function m({award:a,onClose:d,onSave:e}){let[f,g]=(0,c.useState)({title:a?.title||"",awardingAuthority:a?.awardingAuthority||"",year:a?.year||new Date().getFullYear(),description:a?.description||"",image:a?.image||"",priority:a?.priority||0,isActive:a?.isActive??!0,startDate:a?.startDate?new Date(a.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expiryDate:a?.expiryDate?new Date(a.expiryDate).toISOString().split("T")[0]:new Date(new Date().setFullYear(new Date().getFullYear()+1)).toISOString().split("T")[0],showOnFirstFace:a?.showOnFirstFace||!1}),[h,i]=(0,c.useState)({}),m=(a,b)=>{g(c=>({...c,[a]:b})),h[a]&&i(b=>({...b,[a]:void 0}))};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Award":"Add New Award"}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(j.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{let b;a.preventDefault(),b={},f.title.trim()||(b.title="Title is required"),f.awardingAuthority.trim()||(b.awardingAuthority="Awarding authority is required"),f.description.trim()||(b.description="Description is required"),f.image.trim()||(b.image="Image is required"),(f.year<1900||f.year>2100)&&(b.year="Invalid year"),new Date(f.startDate)>new Date(f.expiryDate)&&(b.expiryDate="Expiry date must be after start date"),i(b),0===Object.keys(b).length&&e(f)},className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Award Title ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:f.title,onChange:a=>m("title",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Best Palliative Care Hospital"}),h.title&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.title})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Awarding Authority ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:f.awardingAuthority,onChange:a=>m("awardingAuthority",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.awardingAuthority?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Kerala Government"}),h.awardingAuthority&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.awardingAuthority})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Year ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"number",value:f.year,onChange:a=>m("year",parseInt(a.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.year?"border-red-500":"border-gray-300"}`,min:"1900",max:"2100"}),h.year&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.year})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:f.description,onChange:a=>m("description",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe the award and achievement...",rows:4}),h.description&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Award Image ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4 items-start",children:[f.image&&(0,b.jsxs)("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border border-gray-200",children:[(0,b.jsx)("img",{src:f.image,alt:"Award",className:"w-full h-full object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>m("image",""),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:(0,b.jsx)(j.X,{className:"w-3 h-3"})})]}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(l.default,{type:"image",currentUrl:f.image,onUploadComplete:a=>m("image",a),label:f.image?"Change Image":"Upload Award Image",maxSize:5})})]}),h.image&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.image})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,b.jsx)("input",{type:"number",value:f.priority,onChange:a=>m("priority",parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",min:"0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:f.startDate,onChange:a=>m("startDate",a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expiry Date"}),(0,b.jsx)("input",{type:"date",value:f.expiryDate,onChange:a=>m("expiryDate",a.target.value),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.expiryDate?"border-red-500":"border-gray-300"}`}),h.expiryDate&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.expiryDate})]})]}),(0,b.jsxs)("div",{className:"space-y-4 bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.isActive,onChange:a=>m("isActive",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Active"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.showOnFirstFace,onChange:a=>m("showOnFirstFace",a.target.checked),className:"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:"Feature on Homepage"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Show in awards section on homepage"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",className:"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(k.Save,{className:"w-5 h-5"}),a?"Update Award":"Create Award"]})]})]})]})})}var n=a.i(46240);let o=(0,n.createServerReference)("00ca061ef44aa147e27d10bb1e91d021f86ce8320e",n.callServer,void 0,n.findSourceMapURL,"getAwards"),p=(0,n.createServerReference)("408f1a8a311d89f646d4b4265ec7a26cfe7fb3338c",n.callServer,void 0,n.findSourceMapURL,"createAward"),q=(0,n.createServerReference)("60e609b30585888a18175c68e123d9906abb78b10b",n.callServer,void 0,n.findSourceMapURL,"updateAward"),r=(0,n.createServerReference)("402541e06a6dff97d177402719971a940d16dca609",n.callServer,void 0,n.findSourceMapURL,"deleteAward");function s(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[n,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null);(0,c.useEffect)(()=>{v()},[]);let v=async()=>{try{let a=await o();j(a),l(!1)}catch(a){console.error("Error fetching awards:",a),l(!1)}},w=async a=>{try{t?await q(t._id,a):await p(a),s(!1),u(null),v()}catch(a){console.error("Error saving award:",a),alert("Failed to save award")}},x=async a=>{if(confirm("Are you sure you want to delete this award?"))try{await r(a),v()}catch(a){console.error("Error deleting award:",a),alert("Failed to delete award")}};return(0,b.jsxs)("div",{className:"p-8",children:[n&&(0,b.jsx)(m,{award:t,onClose:()=>{s(!1),u(null)},onSave:w}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Awards & Recognitions"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage hospital awards and recognitions"})]}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl",children:[(0,b.jsx)(d.Plus,{className:"w-5 h-5"}),"Add New Award"]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"CMS Controls"}),(0,b.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,b.jsxs)("li",{children:["• Awards display based on ",(0,b.jsx)("strong",{children:"Year"})," (newest first) and ",(0,b.jsx)("strong",{children:"Priority"})]}),(0,b.jsxs)("li",{children:["• Only ",(0,b.jsx)("strong",{children:"Active"})," awards within ",(0,b.jsx)("strong",{children:"Start/Expiry dates"})," are shown"]}),(0,b.jsx)("li",{children:'• Toggle "Show on First Face" to feature on homepage'})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Priority"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Award"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Authority"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Year"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Homepage"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:k?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"Loading awards..."})}):0===a.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:'No awards found. Click "Add New Award" to create one.'})}):a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"font-semibold text-primary",children:a.priority})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.image?(0,b.jsx)("img",{src:a.image,alt:a.title,className:"w-12 h-12 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(i.Award,{className:"w-6 h-6 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-900",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:a.description})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-700",children:a.awardingAuthority}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-semibold",children:a.year})}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.isActive?(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[(0,b.jsx)(g.Eye,{className:"w-4 h-4"}),"Active"]}):(0,b.jsxs)("span",{className:"flex items-center gap-1 text-gray-400",children:[(0,b.jsx)(h.EyeOff,{className:"w-4 h-4"}),"Inactive"]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.showOnFirstFace?(0,b.jsx)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-medium",children:"Featured"}):(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{u(a),s(!0)},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",children:(0,b.jsx)(e.Edit,{className:"w-4 h-4 text-blue-600"})}),(0,b.jsx)("button",{onClick:()=>x(a._id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4 text-red-600"})})]})})]},a._id))})]})})]})}a.s(["default",()=>s],31034)}];

//# sourceMappingURL=Official_SbWebsite_client_app_%28admin-panel%29_admin_awards_page_tsx_58c5b75b._.js.map