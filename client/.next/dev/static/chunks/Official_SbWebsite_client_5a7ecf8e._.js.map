{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/components/admin/ProjectForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Upload, Save, Plus, Trash2 } from 'lucide-react';\n\ninterface ProjectFormData {\n  projectName: string;\n  shortDescription: string;\n  fullDescription: string;\n  featuredImage: string;\n  gallery: string[];\n  priority: number;\n  isActive: boolean;\n  startDate: string;\n  expiryDate: string;\n  showOnFirstFace: boolean;\n  showOnSecondFace: boolean;\n}\n\ninterface ProjectFormProps {\n  project?: any;\n  onClose: () => void;\n  onSave: (data: ProjectFormData) => void;\n}\n\nexport default function ProjectForm({ project, onClose, onSave }: ProjectFormProps) {\n  const [formData, setFormData] = useState<ProjectFormData>({\n    projectName: project?.projectName || '',\n    shortDescription: project?.shortDescription || '',\n    fullDescription: project?.fullDescription || '',\n    featuredImage: project?.featuredImage || '',\n    gallery: project?.gallery || [],\n    priority: project?.priority || 0,\n    isActive: project?.isActive ?? true,\n    startDate: project?.startDate ? new Date(project.startDate).toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n    expiryDate: project?.expiryDate ? new Date(project.expiryDate).toISOString().split('T')[0] : new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n    showOnFirstFace: project?.showOnFirstFace || false,\n    showOnSecondFace: project?.showOnSecondFace || false,\n  });\n\n  const [newGalleryUrl, setNewGalleryUrl] = useState('');\n  const [errors, setErrors] = useState<Partial<Record<keyof ProjectFormData, string>>>({});\n\n  const validate = (): boolean => {\n    const newErrors: Partial<Record<keyof ProjectFormData, string>> = {};\n\n    if (!formData.projectName.trim()) newErrors.projectName = 'Project name is required';\n    if (!formData.shortDescription.trim()) newErrors.shortDescription = 'Short description is required';\n    if (!formData.fullDescription.trim()) newErrors.fullDescription = 'Full description is required';\n    if (!formData.featuredImage.trim()) newErrors.featuredImage = 'Featured image is required';\n    if (new Date(formData.startDate) > new Date(formData.expiryDate)) {\n      newErrors.expiryDate = 'Expiry date must be after start date';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (validate()) {\n      onSave(formData);\n    }\n  };\n\n  const handleChange = (field: keyof ProjectFormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  const addGalleryImage = () => {\n    if (newGalleryUrl.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        gallery: [...prev.gallery, newGalleryUrl.trim()]\n      }));\n      setNewGalleryUrl('');\n    }\n  };\n\n  const removeGalleryImage = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      gallery: prev.gallery.filter((_, i) => i !== index)\n    }));\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {project ? 'Edit Project' : 'Add New Project'}\n          </h2>\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Project Name */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Project Name <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={formData.projectName}\n              onChange={(e) => handleChange('projectName', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.projectName ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"e.g., Community Health Program\"\n            />\n            {errors.projectName && <p className=\"text-red-500 text-sm mt-1\">{errors.projectName}</p>}\n          </div>\n\n          {/* Short Description */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Short Description <span className=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              value={formData.shortDescription}\n              onChange={(e) => handleChange('shortDescription', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.shortDescription ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"Brief overview (for cards/previews)\"\n              rows={2}\n            />\n            {errors.shortDescription && <p className=\"text-red-500 text-sm mt-1\">{errors.shortDescription}</p>}\n          </div>\n\n          {/* Full Description */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Full Description <span className=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              value={formData.fullDescription}\n              onChange={(e) => handleChange('fullDescription', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.fullDescription ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"Detailed project information\"\n              rows={6}\n            />\n            {errors.fullDescription && <p className=\"text-red-500 text-sm mt-1\">{errors.fullDescription}</p>}\n          </div>\n\n          {/* Featured Image */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Featured Image URL <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"flex gap-2\">\n              <input\n                type=\"url\"\n                value={formData.featuredImage}\n                onChange={(e) => handleChange('featuredImage', e.target.value)}\n                className={`flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.featuredImage ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"https://example.com/image.jpg\"\n              />\n              <button\n                type=\"button\"\n                className=\"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2\"\n              >\n                <Upload className=\"w-4 h-4\" />\n                Upload\n              </button>\n            </div>\n            {errors.featuredImage && <p className=\"text-red-500 text-sm mt-1\">{errors.featuredImage}</p>}\n          </div>\n\n          {/* Gallery */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Gallery Images\n            </label>\n            <div className=\"space-y-2\">\n              {formData.gallery.map((url, index) => (\n                <div key={index} className=\"flex gap-2 items-center bg-gray-50 p-2 rounded-lg\">\n                  <input\n                    type=\"text\"\n                    value={url}\n                    readOnly\n                    className=\"flex-1 px-3 py-2 bg-white border border-gray-300 rounded\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeGalleryImage(index)}\n                    className=\"p-2 text-red-600 hover:bg-red-50 rounded transition-colors\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              ))}\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"url\"\n                  value={newGalleryUrl}\n                  onChange={(e) => setNewGalleryUrl(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addGalleryImage())}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  placeholder=\"Add gallery image URL\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={addGalleryImage}\n                  className=\"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2\"\n                >\n                  <Plus className=\"w-4 h-4\" />\n                  Add\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Priority & Dates */}\n          <div className=\"grid md:grid-cols-3 gap-6\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Priority</label>\n              <input\n                type=\"number\"\n                value={formData.priority}\n                onChange={(e) => handleChange('priority', parseInt(e.target.value))}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n                min=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Start Date</label>\n              <input\n                type=\"date\"\n                value={formData.startDate}\n                onChange={(e) => handleChange('startDate', e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Expiry Date</label>\n              <input\n                type=\"date\"\n                value={formData.expiryDate}\n                onChange={(e) => handleChange('expiryDate', e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.expiryDate ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.expiryDate && <p className=\"text-red-500 text-sm mt-1\">{errors.expiryDate}</p>}\n            </div>\n          </div>\n\n          {/* Toggles */}\n          <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isActive}\n                onChange={(e) => handleChange('isActive', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <span className=\"font-semibold text-gray-900\">Active</span>\n            </label>\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.showOnFirstFace}\n                onChange={(e) => handleChange('showOnFirstFace', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <span className=\"font-semibold text-gray-900\">Show on First Face (Above Fold)</span>\n            </label>\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.showOnSecondFace}\n                onChange={(e) => handleChange('showOnSecondFace', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <span className=\"font-semibold text-gray-900\">Show on Second Face (Below Fold)</span>\n            </label>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4 border-t\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2\"\n            >\n              <Save className=\"w-5 h-5\" />\n              {project ? 'Update Project' : 'Create Project'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/projects.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getProjects() {\n  try {\n    const response = await fetch(`${API_URL}/api/projects/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch projects');\n    }\n\n    const data = await response.json();\n    return data.projects || [];\n  } catch (error) {\n    console.error('Error fetching projects:', error);\n    return [];\n  }\n}\n\nexport async function getProject(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/projects/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch project');\n    }\n\n    const data = await response.json();\n    return data.project;\n  } catch (error) {\n    console.error('Error fetching project:', error);\n    throw error;\n  }\n}\n\nexport async function createProject(projectData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/projects`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(projectData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create project');\n    }\n\n    const data = await response.json();\n    return data.project;\n  } catch (error) {\n    console.error('Error creating project:', error);\n    throw error;\n  }\n}\n\nexport async function updateProject(id: string, projectData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/projects/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(projectData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update project');\n    }\n\n    const data = await response.json();\n    return data.project;\n  } catch (error) {\n    console.error('Error updating project:', error);\n    throw error;\n  }\n}\n\nexport async function deleteProject(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/projects/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete project');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting project:', error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAIsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,+CAAA"}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/%28admin-panel%29/admin/projects/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Plus, Edit, Trash2, Eye, EyeOff, ImageIcon } from 'lucide-react';\nimport ProjectForm from '@/components/admin/ProjectForm';\nimport { getProjects, createProject, updateProject, deleteProject } from '@/app/actions/cms/projects';\n\ninterface FeaturedProject {\n  _id: string;\n  projectName: string;\n  shortDescription: string;\n  fullDescription: string;\n  featuredImage: string;\n  gallery: string[];\n  priority: number;\n  isActive: boolean;\n  startDate: Date;\n  expiryDate: Date;\n  showOnFirstFace: boolean;\n  showOnSecondFace: boolean;\n}\n\nexport default function ProjectsAdminPage() {\n  const [projects, setProjects] = useState<FeaturedProject[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingProject, setEditingProject] = useState<FeaturedProject | null>(null);\n\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n\n  const fetchProjects = async () => {\n    try {\n      const data = await getProjects();\n      setProjects(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching projects:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async (data: any) => {\n    try {\n      if (editingProject) {\n        console.log('Update project:', editingProject._id, data);\n      } else {\n        console.log('Create project:', data);\n      }\n      setShowForm(false);\n      setEditingProject(null);\n      fetchProjects();\n    } catch (error) {\n      console.error('Error saving project:', error);\n      alert('Failed to save project');\n    }\n  };\n\n  const handleEdit = (project: FeaturedProject) => {\n    setEditingProject(project);\n    setShowForm(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this project?')) return;\n    try {\n      console.log('Delete project:', id);\n      fetchProjects();\n    } catch (error) {\n      console.error('Error deleting project:', error);\n      alert('Failed to delete project');\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      {showForm && (\n        <ProjectForm\n          project={editingProject}\n          onClose={() => {\n            setShowForm(false);\n            setEditingProject(null);\n          }}\n          onSave={handleSave}\n        />\n      )}\n\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Featured Projects</h1>\n          <p className=\"text-gray-600 mt-1\">Manage community programs, special initiatives & campaigns</p>\n        </div>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Add New Project\n        </button>\n      </div>\n\n      {/* CMS Info Card */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n        <h3 className=\"font-semibold text-blue-900 mb-2\">CMS Controls</h3>\n        <ul className=\"text-sm text-blue-800 space-y-1\">\n          <li>• Projects display based on <strong>Priority</strong> (higher first)</li>\n          <li>• Only <strong>Active</strong> projects within <strong>Start/Expiry dates</strong> are shown</li>\n          <li>• <strong>First Face</strong>: Shows above the fold on homepage</li>\n          <li>• <strong>Second Face</strong>: Shows below the fold on homepage</li>\n          <li>• Upload featured image + gallery images for each project</li>\n        </ul>\n      </div>\n\n      {/* Projects Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {loading ? (\n          <div className=\"col-span-full text-center py-12 text-gray-500\">\n            Loading projects...\n          </div>\n        ) : projects.length === 0 ? (\n          <div className=\"col-span-full text-center py-12 text-gray-500\">\n            No projects found. Click \"Add New Project\" to create one.\n          </div>\n        ) : (\n          projects.map((project) => (\n            <div key={project._id} className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow\">\n              {/* Project Image */}\n              <div className=\"relative h-48 bg-gray-200\">\n                {project.featuredImage ? (\n                  <img src={project.featuredImage} alt={project.projectName} className=\"w-full h-full object-cover\" />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <ImageIcon className=\"w-12 h-12 text-gray-400\" />\n                  </div>\n                )}\n                <div className=\"absolute top-2 right-2 flex gap-2\">\n                  {project.showOnFirstFace && (\n                    <span className=\"bg-green-500 text-white text-xs px-2 py-1 rounded\">1st Face</span>\n                  )}\n                  {project.showOnSecondFace && (\n                    <span className=\"bg-blue-500 text-white text-xs px-2 py-1 rounded\">2nd Face</span>\n                  )}\n                </div>\n                <div className=\"absolute top-2 left-2\">\n                  <span className=\"bg-primary text-white text-xs px-2 py-1 rounded font-semibold\">\n                    Priority: {project.priority}\n                  </span>\n                </div>\n              </div>\n\n              {/* Project Info */}\n              <div className=\"p-4\">\n                <h3 className=\"font-semibold text-lg text-gray-900 mb-2\">{project.projectName}</h3>\n                <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">{project.shortDescription}</p>\n\n                {/* Status & Dates */}\n                <div className=\"flex items-center justify-between text-xs text-gray-500 mb-4\">\n                  <div>\n                    {project.isActive ? (\n                      <span className=\"flex items-center gap-1 text-green-600 font-medium\">\n                        <Eye className=\"w-3 h-3\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"flex items-center gap-1 text-gray-400\">\n                        <EyeOff className=\"w-3 h-3\" />\n                        Inactive\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"text-right\">\n                    <div>{new Date(project.startDate).toLocaleDateString()}</div>\n                    <div>to {new Date(project.expiryDate).toLocaleDateString()}</div>\n                  </div>\n                </div>\n\n                {/* Gallery Count */}\n                {project.gallery && project.gallery.length > 0 && (\n                  <div className=\"text-xs text-gray-500 mb-4\">\n                    <ImageIcon className=\"w-3 h-3 inline mr-1\" />\n                    {project.gallery.length} images in gallery\n                  </div>\n                )}\n\n                {/* Actions */}\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handleEdit(project)}\n                    className=\"flex-1 bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors\"\n                  >\n                    <Edit className=\"w-4 h-4\" />\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => handleDelete(project._id)}\n                    className=\"bg-red-50 text-red-600 px-4 py-2 rounded-lg hover:bg-red-100 transition-colors\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}