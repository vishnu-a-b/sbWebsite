{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/components/admin/AwardForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Upload, Save } from 'lucide-react';\n\ninterface AwardFormData {\n  title: string;\n  awardingAuthority: string;\n  year: number;\n  description: string;\n  image: string;\n  priority: number;\n  isActive: boolean;\n  startDate: string;\n  expiryDate: string;\n  showOnFirstFace: boolean;\n}\n\ninterface AwardFormProps {\n  award?: any;\n  onClose: () => void;\n  onSave: (data: AwardFormData) => void;\n}\n\nexport default function AwardForm({ award, onClose, onSave }: AwardFormProps) {\n  const [formData, setFormData] = useState<AwardFormData>({\n    title: award?.title || '',\n    awardingAuthority: award?.awardingAuthority || '',\n    year: award?.year || new Date().getFullYear(),\n    description: award?.description || '',\n    image: award?.image || '',\n    priority: award?.priority || 0,\n    isActive: award?.isActive ?? true,\n    startDate: award?.startDate ? new Date(award.startDate).toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n    expiryDate: award?.expiryDate ? new Date(award.expiryDate).toISOString().split('T')[0] : new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n    showOnFirstFace: award?.showOnFirstFace || false,\n  });\n\n  const [errors, setErrors] = useState<Partial<Record<keyof AwardFormData, string>>>({});\n\n  const validate = (): boolean => {\n    const newErrors: Partial<Record<keyof AwardFormData, string>> = {};\n\n    if (!formData.title.trim()) newErrors.title = 'Title is required';\n    if (!formData.awardingAuthority.trim()) newErrors.awardingAuthority = 'Awarding authority is required';\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\n    if (!formData.image.trim()) newErrors.image = 'Image is required';\n    if (formData.year < 1900 || formData.year > 2100) newErrors.year = 'Invalid year';\n    if (new Date(formData.startDate) > new Date(formData.expiryDate)) {\n      newErrors.expiryDate = 'Expiry date must be after start date';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (validate()) {\n      onSave(formData);\n    }\n  };\n\n  const handleChange = (field: keyof AwardFormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {award ? 'Edit Award' : 'Add New Award'}\n          </h2>\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\">\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Award Title */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Award Title <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => handleChange('title', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.title ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"e.g., Best Palliative Care Hospital\"\n            />\n            {errors.title && <p className=\"text-red-500 text-sm mt-1\">{errors.title}</p>}\n          </div>\n\n          {/* Awarding Authority & Year */}\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Awarding Authority <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={formData.awardingAuthority}\n                onChange={(e) => handleChange('awardingAuthority', e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.awardingAuthority ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"e.g., Kerala Government\"\n              />\n              {errors.awardingAuthority && <p className=\"text-red-500 text-sm mt-1\">{errors.awardingAuthority}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Year <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"number\"\n                value={formData.year}\n                onChange={(e) => handleChange('year', parseInt(e.target.value))}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.year ? 'border-red-500' : 'border-gray-300'\n                }`}\n                min=\"1900\"\n                max=\"2100\"\n              />\n              {errors.year && <p className=\"text-red-500 text-sm mt-1\">{errors.year}</p>}\n            </div>\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Description <span className=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => handleChange('description', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.description ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"Describe the award and achievement...\"\n              rows={4}\n            />\n            {errors.description && <p className=\"text-red-500 text-sm mt-1\">{errors.description}</p>}\n          </div>\n\n          {/* Image */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Award Image URL <span className=\"text-red-500\">*</span>\n            </label>\n            <div className=\"flex gap-2\">\n              <input\n                type=\"url\"\n                value={formData.image}\n                onChange={(e) => handleChange('image', e.target.value)}\n                className={`flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.image ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"https://example.com/award.jpg\"\n              />\n              <button\n                type=\"button\"\n                className=\"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2\"\n              >\n                <Upload className=\"w-4 h-4\" />\n                Upload\n              </button>\n            </div>\n            {errors.image && <p className=\"text-red-500 text-sm mt-1\">{errors.image}</p>}\n          </div>\n\n          {/* Priority & Dates */}\n          <div className=\"grid md:grid-cols-3 gap-6\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Priority</label>\n              <input\n                type=\"number\"\n                value={formData.priority}\n                onChange={(e) => handleChange('priority', parseInt(e.target.value))}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n                min=\"0\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Start Date</label>\n              <input\n                type=\"date\"\n                value={formData.startDate}\n                onChange={(e) => handleChange('startDate', e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Expiry Date</label>\n              <input\n                type=\"date\"\n                value={formData.expiryDate}\n                onChange={(e) => handleChange('expiryDate', e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.expiryDate ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.expiryDate && <p className=\"text-red-500 text-sm mt-1\">{errors.expiryDate}</p>}\n            </div>\n          </div>\n\n          {/* Toggles */}\n          <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isActive}\n                onChange={(e) => handleChange('isActive', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <span className=\"font-semibold text-gray-900\">Active</span>\n            </label>\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.showOnFirstFace}\n                onChange={(e) => handleChange('showOnFirstFace', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <div>\n                <span className=\"font-semibold text-gray-900\">Feature on Homepage</span>\n                <p className=\"text-xs text-gray-600\">Show in awards section on homepage</p>\n              </div>\n            </label>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4 border-t\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2\"\n            >\n              <Save className=\"w-5 h-5\" />\n              {award ? 'Update Award' : 'Create Award'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAwBe,SAAS,UAAU,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAkB;;IAC1E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4MAAQ,EAAgB;QACtD,OAAO,OAAO,SAAS;QACvB,mBAAmB,OAAO,qBAAqB;QAC/C,MAAM,OAAO,QAAQ,IAAI,OAAO,WAAW;QAC3C,aAAa,OAAO,eAAe;QACnC,OAAO,OAAO,SAAS;QACvB,UAAU,OAAO,YAAY;QAC7B,UAAU,OAAO,YAAY;QAC7B,WAAW,OAAO,YAAY,IAAI,KAAK,MAAM,SAAS,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAC5H,YAAY,OAAO,aAAa,IAAI,KAAK,MAAM,UAAU,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,KAAK,IAAI,OAAO,WAAW,CAAC,IAAI,OAAO,WAAW,KAAK,IAAI,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QACnL,iBAAiB,OAAO,mBAAmB;IAC7C;IAEA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,4MAAQ,EAA+C,CAAC;IAEpF,MAAM,WAAW;QACf,MAAM,YAA0D,CAAC;QAEjE,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI,UAAU,KAAK,GAAG;QAC9C,IAAI,CAAC,SAAS,iBAAiB,CAAC,IAAI,IAAI,UAAU,iBAAiB,GAAG;QACtE,IAAI,CAAC,SAAS,WAAW,CAAC,IAAI,IAAI,UAAU,WAAW,GAAG;QAC1D,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI,UAAU,KAAK,GAAG;QAC9C,IAAI,SAAS,IAAI,GAAG,QAAQ,SAAS,IAAI,GAAG,MAAM,UAAU,IAAI,GAAG;QACnE,IAAI,IAAI,KAAK,SAAS,SAAS,IAAI,IAAI,KAAK,SAAS,UAAU,GAAG;YAChE,UAAU,UAAU,GAAG;QACzB;QAEA,UAAU;QACV,OAAO,OAAO,IAAI,CAAC,WAAW,MAAM,KAAK;IAC3C;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,YAAY;YACd,OAAO;QACT;IACF;IAEA,MAAM,eAAe,CAAC,OAA4B;QAChD,YAAY,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,MAAM,EAAE;YAAM,CAAC;QAChD,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,UAAU,CAAA,OAAQ,CAAC;oBAAE,GAAG,IAAI;oBAAE,CAAC,MAAM,EAAE;gBAAU,CAAC;QACpD;IACF;IAEA,qBACE,gOAAC;QAAI,WAAU;kBACb,cAAA,gOAAC;YAAI,WAAU;;8BAEb,gOAAC;oBAAI,WAAU;;sCACb,gOAAC;4BAAG,WAAU;sCACX,QAAQ,eAAe;;;;;;sCAE1B,gOAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,gOAAC,uOAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,gOAAC;oBAAK,UAAU;oBAAc,WAAU;;sCAEtC,gOAAC;;8CACC,gOAAC;oCAAM,WAAU;;wCAAiD;sDACpD,gOAAC;4CAAK,WAAU;sDAAe;;;;;;;;;;;;8CAE7C,gOAAC;oCACC,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU,CAAC,IAAM,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;oCACrD,WAAW,CAAC,4FAA4F,EACtG,OAAO,KAAK,GAAG,mBAAmB,mBAClC;oCACF,aAAY;;;;;;gCAEb,OAAO,KAAK,kBAAI,gOAAC;oCAAE,WAAU;8CAA6B,OAAO,KAAK;;;;;;;;;;;;sCAIzE,gOAAC;4BAAI,WAAU;;8CACb,gOAAC;;sDACC,gOAAC;4CAAM,WAAU;;gDAAiD;8DAC7C,gOAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEpD,gOAAC;4CACC,MAAK;4CACL,OAAO,SAAS,iBAAiB;4CACjC,UAAU,CAAC,IAAM,aAAa,qBAAqB,EAAE,MAAM,CAAC,KAAK;4CACjE,WAAW,CAAC,4FAA4F,EACtG,OAAO,iBAAiB,GAAG,mBAAmB,mBAC9C;4CACF,aAAY;;;;;;wCAEb,OAAO,iBAAiB,kBAAI,gOAAC;4CAAE,WAAU;sDAA6B,OAAO,iBAAiB;;;;;;;;;;;;8CAGjG,gOAAC;;sDACC,gOAAC;4CAAM,WAAU;;gDAAiD;8DAC3D,gOAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEtC,gOAAC;4CACC,MAAK;4CACL,OAAO,SAAS,IAAI;4CACpB,UAAU,CAAC,IAAM,aAAa,QAAQ,SAAS,EAAE,MAAM,CAAC,KAAK;4CAC7D,WAAW,CAAC,4FAA4F,EACtG,OAAO,IAAI,GAAG,mBAAmB,mBACjC;4CACF,KAAI;4CACJ,KAAI;;;;;;wCAEL,OAAO,IAAI,kBAAI,gOAAC;4CAAE,WAAU;sDAA6B,OAAO,IAAI;;;;;;;;;;;;;;;;;;sCAKzE,gOAAC;;8CACC,gOAAC;oCAAM,WAAU;;wCAAiD;sDACpD,gOAAC;4CAAK,WAAU;sDAAe;;;;;;;;;;;;8CAE7C,gOAAC;oCACC,OAAO,SAAS,WAAW;oCAC3B,UAAU,CAAC,IAAM,aAAa,eAAe,EAAE,MAAM,CAAC,KAAK;oCAC3D,WAAW,CAAC,4FAA4F,EACtG,OAAO,WAAW,GAAG,mBAAmB,mBACxC;oCACF,aAAY;oCACZ,MAAM;;;;;;gCAEP,OAAO,WAAW,kBAAI,gOAAC;oCAAE,WAAU;8CAA6B,OAAO,WAAW;;;;;;;;;;;;sCAIrF,gOAAC;;8CACC,gOAAC;oCAAM,WAAU;;wCAAiD;sDAChD,gOAAC;4CAAK,WAAU;sDAAe;;;;;;;;;;;;8CAEjD,gOAAC;oCAAI,WAAU;;sDACb,gOAAC;4CACC,MAAK;4CACL,OAAO,SAAS,KAAK;4CACrB,UAAU,CAAC,IAAM,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;4CACrD,WAAW,CAAC,4FAA4F,EACtG,OAAO,KAAK,GAAG,mBAAmB,mBAClC;4CACF,aAAY;;;;;;sDAEd,gOAAC;4CACC,MAAK;4CACL,WAAU;;8DAEV,gOAAC,sPAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;gCAIjC,OAAO,KAAK,kBAAI,gOAAC;oCAAE,WAAU;8CAA6B,OAAO,KAAK;;;;;;;;;;;;sCAIzE,gOAAC;4BAAI,WAAU;;8CACb,gOAAC;;sDACC,gOAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,gOAAC;4CACC,MAAK;4CACL,OAAO,SAAS,QAAQ;4CACxB,UAAU,CAAC,IAAM,aAAa,YAAY,SAAS,EAAE,MAAM,CAAC,KAAK;4CACjE,WAAU;4CACV,KAAI;;;;;;;;;;;;8CAGR,gOAAC;;sDACC,gOAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,gOAAC;4CACC,MAAK;4CACL,OAAO,SAAS,SAAS;4CACzB,UAAU,CAAC,IAAM,aAAa,aAAa,EAAE,MAAM,CAAC,KAAK;4CACzD,WAAU;;;;;;;;;;;;8CAGd,gOAAC;;sDACC,gOAAC;4CAAM,WAAU;sDAAiD;;;;;;sDAClE,gOAAC;4CACC,MAAK;4CACL,OAAO,SAAS,UAAU;4CAC1B,UAAU,CAAC,IAAM,aAAa,cAAc,EAAE,MAAM,CAAC,KAAK;4CAC1D,WAAW,CAAC,4FAA4F,EACtG,OAAO,UAAU,GAAG,mBAAmB,mBACvC;;;;;;wCAEH,OAAO,UAAU,kBAAI,gOAAC;4CAAE,WAAU;sDAA6B,OAAO,UAAU;;;;;;;;;;;;;;;;;;sCAKrF,gOAAC;4BAAI,WAAU;;8CACb,gOAAC;oCAAM,WAAU;;sDACf,gOAAC;4CACC,MAAK;4CACL,SAAS,SAAS,QAAQ;4CAC1B,UAAU,CAAC,IAAM,aAAa,YAAY,EAAE,MAAM,CAAC,OAAO;4CAC1D,WAAU;;;;;;sDAEZ,gOAAC;4CAAK,WAAU;sDAA8B;;;;;;;;;;;;8CAEhD,gOAAC;oCAAM,WAAU;;sDACf,gOAAC;4CACC,MAAK;4CACL,SAAS,SAAS,eAAe;4CACjC,UAAU,CAAC,IAAM,aAAa,mBAAmB,EAAE,MAAM,CAAC,OAAO;4CACjE,WAAU;;;;;;sDAEZ,gOAAC;;8DACC,gOAAC;oDAAK,WAAU;8DAA8B;;;;;;8DAC9C,gOAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;;;;;;;;;;;;;;sCAM3C,gOAAC;4BAAI,WAAU;;8CACb,gOAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,gOAAC;oCACC,MAAK;oCACL,WAAU;;sDAEV,gOAAC,gPAAI;4CAAC,WAAU;;;;;;wCACf,QAAQ,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxC;GA9OwB;KAAA"}},
    {"offset": {"line": 608, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/awards.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getAwards() {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch awards');\n    }\n\n    const data = await response.json();\n    return data.awards || [];\n  } catch (error) {\n    console.error('Error fetching awards:', error);\n    return [];\n  }\n}\n\nexport async function getAward(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error fetching award:', error);\n    throw error;\n  }\n}\n\nexport async function createAward(awardData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(awardData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error creating award:', error);\n    throw error;\n  }\n}\n\nexport async function updateAward(id: string, awardData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(awardData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error updating award:', error);\n    throw error;\n  }\n}\n\nexport async function deleteAward(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete award');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting award:', error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAIsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,6CAAA"}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/awards.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getAwards() {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch awards');\n    }\n\n    const data = await response.json();\n    return data.awards || [];\n  } catch (error) {\n    console.error('Error fetching awards:', error);\n    return [];\n  }\n}\n\nexport async function getAward(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error fetching award:', error);\n    throw error;\n  }\n}\n\nexport async function createAward(awardData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(awardData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error creating award:', error);\n    throw error;\n  }\n}\n\nexport async function updateAward(id: string, awardData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(awardData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error updating award:', error);\n    throw error;\n  }\n}\n\nexport async function deleteAward(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete award');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting award:', error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;MAwCsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,+CAAA"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/awards.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getAwards() {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch awards');\n    }\n\n    const data = await response.json();\n    return data.awards || [];\n  } catch (error) {\n    console.error('Error fetching awards:', error);\n    return [];\n  }\n}\n\nexport async function getAward(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error fetching award:', error);\n    throw error;\n  }\n}\n\nexport async function createAward(awardData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(awardData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error creating award:', error);\n    throw error;\n  }\n}\n\nexport async function updateAward(id: string, awardData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(awardData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update award');\n    }\n\n    const data = await response.json();\n    return data.award;\n  } catch (error) {\n    console.error('Error updating award:', error);\n    throw error;\n  }\n}\n\nexport async function deleteAward(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/awards/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete award');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting award:', error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;MA8DsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,+CAAA"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/%28admin-panel%29/admin/awards/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Plus, Edit, Trash2, Eye, EyeOff, Award as AwardIcon } from 'lucide-react';\nimport AwardForm from '@/components/admin/AwardForm';\nimport { getAwards, createAward, updateAward, deleteAward } from '@/app/actions/cms/awards';\n\ninterface Award {\n  _id: string;\n  title: string;\n  awardingAuthority: string;\n  year: number;\n  description: string;\n  image: string;\n  priority: number;\n  isActive: boolean;\n  startDate: Date;\n  expiryDate: Date;\n  showOnFirstFace: boolean;\n}\n\nexport default function AwardsAdminPage() {\n  const [awards, setAwards] = useState<Award[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingAward, setEditingAward] = useState<Award | null>(null);\n\n  useEffect(() => {\n    fetchAwards();\n  }, []);\n\n  const fetchAwards = async () => {\n    try {\n      const data = await getAwards();\n      setAwards(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching awards:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async (data: any) => {\n    try {\n      if (editingAward) {\n        await updateAward(editingAward._id, data);\n      } else {\n        await createAward(data);\n      }\n      setShowForm(false);\n      setEditingAward(null);\n      fetchAwards();\n    } catch (error) {\n      console.error('Error saving award:', error);\n      alert('Failed to save award');\n    }\n  };\n\n  const handleEdit = (award: Award) => {\n    setEditingAward(award);\n    setShowForm(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this award?')) return;\n    try {\n      console.log('Delete award:', id);\n      fetchAwards();\n    } catch (error) {\n      console.error('Error deleting award:', error);\n      alert('Failed to delete award');\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      {showForm && (\n        <AwardForm\n          award={editingAward}\n          onClose={() => {\n            setShowForm(false);\n            setEditingAward(null);\n          }}\n          onSave={handleSave}\n        />\n      )}\n\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Awards & Recognitions</h1>\n          <p className=\"text-gray-600 mt-1\">Manage hospital awards and recognitions</p>\n        </div>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Add New Award\n        </button>\n      </div>\n\n      {/* CMS Info Card */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n        <h3 className=\"font-semibold text-blue-900 mb-2\">CMS Controls</h3>\n        <ul className=\"text-sm text-blue-800 space-y-1\">\n          <li>• Awards display based on <strong>Year</strong> (newest first) and <strong>Priority</strong></li>\n          <li>• Only <strong>Active</strong> awards within <strong>Start/Expiry dates</strong> are shown</li>\n          <li>• Toggle \"Show on First Face\" to feature on homepage</li>\n        </ul>\n      </div>\n\n      {/* Awards Table */}\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50 border-b\">\n            <tr>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Priority</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Award</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Authority</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Year</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Status</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Homepage</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y\">\n            {loading ? (\n              <tr>\n                <td colSpan={7} className=\"px-6 py-12 text-center text-gray-500\">\n                  Loading awards...\n                </td>\n              </tr>\n            ) : awards.length === 0 ? (\n              <tr>\n                <td colSpan={7} className=\"px-6 py-12 text-center text-gray-500\">\n                  No awards found. Click \"Add New Award\" to create one.\n                </td>\n              </tr>\n            ) : (\n              awards.map((award) => (\n                <tr key={award._id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <span className=\"font-semibold text-primary\">{award.priority}</span>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center gap-3\">\n                      {award.image ? (\n                        <img src={award.image} alt={award.title} className=\"w-12 h-12 rounded-lg object-cover\" />\n                      ) : (\n                        <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                          <AwardIcon className=\"w-6 h-6 text-gray-400\" />\n                        </div>\n                      )}\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{award.title}</div>\n                        <div className=\"text-sm text-gray-500 truncate max-w-xs\">{award.description}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 text-gray-700\">{award.awardingAuthority}</td>\n                  <td className=\"px-6 py-4\">\n                    <span className=\"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-semibold\">\n                      {award.year}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    {award.isActive ? (\n                      <span className=\"flex items-center gap-1 text-green-600\">\n                        <Eye className=\"w-4 h-4\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"flex items-center gap-1 text-gray-400\">\n                        <EyeOff className=\"w-4 h-4\" />\n                        Inactive\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    {award.showOnFirstFace ? (\n                      <span className=\"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-medium\">\n                        Featured\n                      </span>\n                    ) : (\n                      <span className=\"text-gray-400 text-xs\">Not Featured</span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => handleEdit(award)}\n                        className=\"p-2 hover:bg-blue-50 rounded-lg transition-colors\"\n                      >\n                        <Edit className=\"w-4 h-4 text-blue-600\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(award._id)}\n                        className=\"p-2 hover:bg-red-50 rounded-lg transition-colors\"\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-600\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}