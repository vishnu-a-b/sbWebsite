{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/components/admin/ServiceForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, Upload, Save } from 'lucide-react';\n\ninterface ServiceFormData {\n  title: string;\n  description: string;\n  icon: string;\n  color: string;\n  priority: number;\n  isActive: boolean;\n  startDate: string;\n  expiryDate: string;\n  showOnFirstFace: boolean;\n}\n\ninterface ServiceFormProps {\n  service?: any;\n  onClose: () => void;\n  onSave: (data: ServiceFormData) => void;\n}\n\nexport default function ServiceForm({ service, onClose, onSave }: ServiceFormProps) {\n  const [formData, setFormData] = useState<ServiceFormData>({\n    title: service?.title || '',\n    description: service?.description || '',\n    icon: service?.icon || '',\n    color: service?.color || '#10b981',\n    priority: service?.priority || 0,\n    isActive: service?.isActive ?? true,\n    startDate: service?.startDate ? new Date(service.startDate).toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n    expiryDate: service?.expiryDate ? new Date(service.expiryDate).toISOString().split('T')[0] : new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n    showOnFirstFace: service?.showOnFirstFace || false,\n  });\n\n  const [errors, setErrors] = useState<Partial<Record<keyof ServiceFormData, string>>>({});\n\n  const validate = (): boolean => {\n    const newErrors: Partial<Record<keyof ServiceFormData, string>> = {};\n\n    if (!formData.title.trim()) newErrors.title = 'Title is required';\n    if (!formData.description.trim()) newErrors.description = 'Description is required';\n    if (!formData.icon.trim()) newErrors.icon = 'Icon name is required';\n    if (formData.priority < 0) newErrors.priority = 'Priority must be 0 or greater';\n    if (new Date(formData.startDate) > new Date(formData.expiryDate)) {\n      newErrors.expiryDate = 'Expiry date must be after start date';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (validate()) {\n      onSave(formData);\n    }\n  };\n\n  const handleChange = (field: keyof ServiceFormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            {service ? 'Edit Service' : 'Add New Service'}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Title <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              value={formData.title}\n              onChange={(e) => handleChange('title', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.title ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"e.g., Free Dialysis\"\n            />\n            {errors.title && <p className=\"text-red-500 text-sm mt-1\">{errors.title}</p>}\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Description <span className=\"text-red-500\">*</span>\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={(e) => handleChange('description', e.target.value)}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.description ? 'border-red-500' : 'border-gray-300'\n              }`}\n              placeholder=\"Describe the service...\"\n              rows={4}\n            />\n            {errors.description && <p className=\"text-red-500 text-sm mt-1\">{errors.description}</p>}\n          </div>\n\n          {/* Icon & Color */}\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Icon Name (Lucide) <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={formData.icon}\n                onChange={(e) => handleChange('icon', e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.icon ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"e.g., Heart, Activity, Users\"\n              />\n              {errors.icon && <p className=\"text-red-500 text-sm mt-1\">{errors.icon}</p>}\n              <p className=\"text-xs text-gray-500 mt-1\">See lucide.dev for icon names</p>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Color\n              </label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"color\"\n                  value={formData.color}\n                  onChange={(e) => handleChange('color', e.target.value)}\n                  className=\"h-10 w-20 rounded cursor-pointer\"\n                />\n                <input\n                  type=\"text\"\n                  value={formData.color}\n                  onChange={(e) => handleChange('color', e.target.value)}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n                  placeholder=\"#10b981\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Priority */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n              Priority (Higher = Shows First)\n            </label>\n            <input\n              type=\"number\"\n              value={formData.priority}\n              onChange={(e) => handleChange('priority', parseInt(e.target.value))}\n              className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                errors.priority ? 'border-red-500' : 'border-gray-300'\n              }`}\n              min=\"0\"\n            />\n            {errors.priority && <p className=\"text-red-500 text-sm mt-1\">{errors.priority}</p>}\n          </div>\n\n          {/* Date Range */}\n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Start Date <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"date\"\n                value={formData.startDate}\n                onChange={(e) => handleChange('startDate', e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                Expiry Date <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"date\"\n                value={formData.expiryDate}\n                onChange={(e) => handleChange('expiryDate', e.target.value)}\n                className={`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${\n                  errors.expiryDate ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.expiryDate && <p className=\"text-red-500 text-sm mt-1\">{errors.expiryDate}</p>}\n            </div>\n          </div>\n\n          {/* Toggles */}\n          <div className=\"space-y-4 bg-gray-50 p-4 rounded-lg\">\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isActive}\n                onChange={(e) => handleChange('isActive', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <div>\n                <span className=\"font-semibold text-gray-900\">Active</span>\n                <p className=\"text-xs text-gray-600\">Service is visible to users</p>\n              </div>\n            </label>\n\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.showOnFirstFace}\n                onChange={(e) => handleChange('showOnFirstFace', e.target.checked)}\n                className=\"w-5 h-5 text-primary rounded focus:ring-2 focus:ring-primary\"\n              />\n              <div>\n                <span className=\"font-semibold text-gray-900\">Show on First Face</span>\n                <p className=\"text-xs text-gray-600\">Display on homepage above the fold</p>\n              </div>\n            </label>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4 border-t\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium flex items-center justify-center gap-2\"\n            >\n              <Save className=\"w-5 h-5\" />\n              {service ? 'Update Service' : 'Create Service'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/services.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getServices() {\n  try {\n    const response = await fetch(`${API_URL}/api/services/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch services');\n    }\n\n    const data = await response.json();\n    return data.services || [];\n  } catch (error) {\n    console.error('Error fetching services:', error);\n    return [];\n  }\n}\n\nexport async function getService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error fetching service:', error);\n    throw error;\n  }\n}\n\nexport async function createService(serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error creating service:', error);\n    throw error;\n  }\n}\n\nexport async function updateService(id: string, serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error updating service:', error);\n    throw error;\n  }\n}\n\nexport async function deleteService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete service');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting service:', error);\n    throw error;\n  }\n}"],"names":[],"mappings":";;;;;;;MAIsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,+CAAA"}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/services.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getServices() {\n  try {\n    const response = await fetch(`${API_URL}/api/services/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch services');\n    }\n\n    const data = await response.json();\n    return data.services || [];\n  } catch (error) {\n    console.error('Error fetching services:', error);\n    return [];\n  }\n}\n\nexport async function getService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error fetching service:', error);\n    throw error;\n  }\n}\n\nexport async function createService(serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error creating service:', error);\n    throw error;\n  }\n}\n\nexport async function updateService(id: string, serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error updating service:', error);\n    throw error;\n  }\n}\n\nexport async function deleteService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete service');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting service:', error);\n    throw error;\n  }\n}"],"names":[],"mappings":";;;;;;;MAwCsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,iDAAA"}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/services.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getServices() {\n  try {\n    const response = await fetch(`${API_URL}/api/services/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch services');\n    }\n\n    const data = await response.json();\n    return data.services || [];\n  } catch (error) {\n    console.error('Error fetching services:', error);\n    return [];\n  }\n}\n\nexport async function getService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error fetching service:', error);\n    throw error;\n  }\n}\n\nexport async function createService(serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error creating service:', error);\n    throw error;\n  }\n}\n\nexport async function updateService(id: string, serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error updating service:', error);\n    throw error;\n  }\n}\n\nexport async function deleteService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete service');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting service:', error);\n    throw error;\n  }\n}"],"names":[],"mappings":";;;;;;;MA8DsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,iDAAA"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/actions/cms/services.ts"],"sourcesContent":["'use server';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';\n\nexport async function getServices() {\n  try {\n    const response = await fetch(`${API_URL}/api/services/admin`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch services');\n    }\n\n    const data = await response.json();\n    return data.services || [];\n  } catch (error) {\n    console.error('Error fetching services:', error);\n    return [];\n  }\n}\n\nexport async function getService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      cache: 'no-store',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error fetching service:', error);\n    throw error;\n  }\n}\n\nexport async function createService(serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to create service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error creating service:', error);\n    throw error;\n  }\n}\n\nexport async function updateService(id: string, serviceData: any) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(serviceData),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to update service');\n    }\n\n    const data = await response.json();\n    return data.service;\n  } catch (error) {\n    console.error('Error updating service:', error);\n    throw error;\n  }\n}\n\nexport async function deleteService(id: string) {\n  try {\n    const response = await fetch(`${API_URL}/api/services/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to delete service');\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error deleting service:', error);\n    throw error;\n  }\n}"],"names":[],"mappings":";;;;;;;MAoFsB,wBAAA,WAAA,GAAA,IAAA,qRAAA,EAAA,8CAAA,0QAAA,EAAA,KAAA,GAAA,gRAAA,EAAA,iDAAA"}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///Users/vishnuab/Official/SbWebsite/client/app/%28admin-panel%29/admin/services/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Plus, Edit, Trash2, Eye, EyeOff } from 'lucide-react';\nimport ServiceForm from '@/components/admin/ServiceForm';\nimport { getServices, createService, updateService, deleteService } from '@/app/actions/cms/services';\n\ninterface Service {\n  _id: string;\n  title: string;\n  description: string;\n  icon: string;\n  color?: string;\n  priority: number;\n  isActive: boolean;\n  startDate: Date;\n  expiryDate: Date;\n}\n\nexport default function ServicesAdminPage() {\n  const [services, setServices] = useState<Service[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingService, setEditingService] = useState<Service | null>(null);\n\n  useEffect(() => {\n    fetchServices();\n  }, []);\n\n  const fetchServices = async () => {\n    try {\n      const data = await getServices();\n      setServices(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching services:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async (data: any) => {\n    try {\n      if (editingService) {\n        await updateService(editingService._id, data);\n      } else {\n        await createService(data);\n      }\n      setShowForm(false);\n      setEditingService(null);\n      fetchServices();\n    } catch (error) {\n      console.error('Error saving service:', error);\n      alert('Failed to save service');\n    }\n  };\n\n  const handleEdit = (service: Service) => {\n    setEditingService(service);\n    setShowForm(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this service?')) return;\n    try {\n      await deleteService(id);\n      fetchServices();\n    } catch (error) {\n      console.error('Error deleting service:', error);\n      alert('Failed to delete service');\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      {/* Form Modal */}\n      {showForm && (\n        <ServiceForm\n          service={editingService}\n          onClose={() => {\n            setShowForm(false);\n            setEditingService(null);\n          }}\n          onSave={handleSave}\n        />\n      )}\n\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Services</h1>\n          <p className=\"text-gray-600 mt-1\">Manage hospital services with CMS controls</p>\n        </div>\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 flex items-center gap-2 transition-all shadow-lg hover:shadow-xl\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          Add New Service\n        </button>\n      </div>\n\n      {/* CMS Info Card */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n        <h3 className=\"font-semibold text-blue-900 mb-2\">CMS Controls</h3>\n        <ul className=\"text-sm text-blue-800 space-y-1\">\n          <li>• Services display based on <strong>Priority</strong> (higher first)</li>\n          <li>• Only <strong>Active</strong> services within <strong>Start/Expiry dates</strong> are shown</li>\n          <li>• Toggle \"Show on Homepage\" to feature on first face</li>\n        </ul>\n      </div>\n\n      {/* Services Table */}\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50 border-b\">\n            <tr>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Priority</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Title</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Icon</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Status</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Date Range</th>\n              <th className=\"px-6 py-4 text-left text-sm font-semibold text-gray-700\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y\">\n            {loading ? (\n              <tr>\n                <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500\">\n                  Loading services...\n                </td>\n              </tr>\n            ) : services.length === 0 ? (\n              <tr>\n                <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500\">\n                  No services found. Click \"Add New Service\" to create one.\n                </td>\n              </tr>\n            ) : (\n              services.map((service) => (\n                <tr key={service._id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <span className=\"font-semibold text-primary\">{service.priority}</span>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"font-medium text-gray-900\">{service.title}</div>\n                    <div className=\"text-sm text-gray-500 truncate max-w-xs\">{service.description}</div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <span className=\"text-2xl\">{service.icon}</span>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    {service.isActive ? (\n                      <span className=\"flex items-center gap-1 text-green-600\">\n                        <Eye className=\"w-4 h-4\" />\n                        Active\n                      </span>\n                    ) : (\n                      <span className=\"flex items-center gap-1 text-gray-400\">\n                        <EyeOff className=\"w-4 h-4\" />\n                        Inactive\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-600\">\n                    <div>{new Date(service.startDate).toLocaleDateString()}</div>\n                    <div className=\"text-xs\">to {new Date(service.expiryDate).toLocaleDateString()}</div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => handleEdit(service)}\n                        className=\"p-2 hover:bg-blue-50 rounded-lg transition-colors\"\n                      >\n                        <Edit className=\"w-4 h-4 text-blue-600\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(service._id)}\n                        className=\"p-2 hover:bg-red-50 rounded-lg transition-colors\"\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-600\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;;AAmBe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4MAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4MAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4MAAQ,EAAC;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4MAAQ,EAAiB;IAErE,IAAA,6MAAS;uCAAC;YACR;QACF;sCAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,OAAO,MAAM,IAAA,kNAAW;YAC9B,YAAY;YACZ,WAAW;QACb,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,WAAW;QACb;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,IAAI,gBAAgB;gBAClB,MAAM,IAAA,oNAAa,EAAC,eAAe,GAAG,EAAE;YAC1C,OAAO;gBACL,MAAM,IAAA,oNAAa,EAAC;YACtB;YACA,YAAY;YACZ,kBAAkB;YAClB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM;QACR;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,kBAAkB;QAClB,YAAY;IACd;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,kDAAkD;QAC/D,IAAI;YACF,MAAM,IAAA,oNAAa,EAAC;YACpB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;QACR;IACF;IAEA,qBACE,gOAAC;QAAI,WAAU;;YAEZ,0BACC,gOAAC,oLAAW;gBACV,SAAS;gBACT,SAAS;oBACP,YAAY;oBACZ,kBAAkB;gBACpB;gBACA,QAAQ;;;;;;0BAKZ,gOAAC;gBAAI,WAAU;;kCACb,gOAAC;;0CACC,gOAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,gOAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;kCAEpC,gOAAC;wBACC,SAAS,IAAM,YAAY;wBAC3B,WAAU;;0CAEV,gOAAC,gPAAI;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAMhC,gOAAC;gBAAI,WAAU;;kCACb,gOAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,gOAAC;wBAAG,WAAU;;0CACZ,gOAAC;;oCAAG;kDAA4B,gOAAC;kDAAO;;;;;;oCAAiB;;;;;;;0CACzD,gOAAC;;oCAAG;kDAAO,gOAAC;kDAAO;;;;;;oCAAe;kDAAiB,gOAAC;kDAAO;;;;;;oCAA2B;;;;;;;0CACtF,gOAAC;0CAAG;;;;;;;;;;;;;;;;;;0BAKR,gOAAC;gBAAI,WAAU;0BACb,cAAA,gOAAC;oBAAM,WAAU;;sCACf,gOAAC;4BAAM,WAAU;sCACf,cAAA,gOAAC;;kDACC,gOAAC;wCAAG,WAAU;kDAA0D;;;;;;kDACxE,gOAAC;wCAAG,WAAU;kDAA0D;;;;;;kDACxE,gOAAC;wCAAG,WAAU;kDAA0D;;;;;;kDACxE,gOAAC;wCAAG,WAAU;kDAA0D;;;;;;kDACxE,gOAAC;wCAAG,WAAU;kDAA0D;;;;;;kDACxE,gOAAC;wCAAG,WAAU;kDAA0D;;;;;;;;;;;;;;;;;sCAG5E,gOAAC;4BAAM,WAAU;sCACd,wBACC,gOAAC;0CACC,cAAA,gOAAC;oCAAG,SAAS;oCAAG,WAAU;8CAAuC;;;;;;;;;;uCAIjE,SAAS,MAAM,KAAK,kBACtB,gOAAC;0CACC,cAAA,gOAAC;oCAAG,SAAS;oCAAG,WAAU;8CAAuC;;;;;;;;;;uCAKnE,SAAS,GAAG,CAAC,CAAC,wBACZ,gOAAC;oCAAqB,WAAU;;sDAC9B,gOAAC;4CAAG,WAAU;sDACZ,cAAA,gOAAC;gDAAK,WAAU;0DAA8B,QAAQ,QAAQ;;;;;;;;;;;sDAEhE,gOAAC;4CAAG,WAAU;;8DACZ,gOAAC;oDAAI,WAAU;8DAA6B,QAAQ,KAAK;;;;;;8DACzD,gOAAC;oDAAI,WAAU;8DAA2C,QAAQ,WAAW;;;;;;;;;;;;sDAE/E,gOAAC;4CAAG,WAAU;sDACZ,cAAA,gOAAC;gDAAK,WAAU;0DAAY,QAAQ,IAAI;;;;;;;;;;;sDAE1C,gOAAC;4CAAG,WAAU;sDACX,QAAQ,QAAQ,iBACf,gOAAC;gDAAK,WAAU;;kEACd,gOAAC,6OAAG;wDAAC,WAAU;;;;;;oDAAY;;;;;;qEAI7B,gOAAC;gDAAK,WAAU;;kEACd,gOAAC,0PAAM;wDAAC,WAAU;;;;;;oDAAY;;;;;;;;;;;;sDAKpC,gOAAC;4CAAG,WAAU;;8DACZ,gOAAC;8DAAK,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB;;;;;;8DACpD,gOAAC;oDAAI,WAAU;;wDAAU;wDAAI,IAAI,KAAK,QAAQ,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;sDAE9E,gOAAC;4CAAG,WAAU;sDACZ,cAAA,gOAAC;gDAAI,WAAU;;kEACb,gOAAC;wDACC,SAAS,IAAM,WAAW;wDAC1B,WAAU;kEAEV,cAAA,gOAAC,yPAAI;4DAAC,WAAU;;;;;;;;;;;kEAElB,gOAAC;wDACC,SAAS,IAAM,aAAa,QAAQ,GAAG;wDACvC,WAAU;kEAEV,cAAA,gOAAC,0PAAM;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;mCAxCjB,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDpC;GA5KwB;KAAA"}}]
}