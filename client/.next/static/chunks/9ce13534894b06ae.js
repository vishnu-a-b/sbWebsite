(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7146,e=>{"use strict";let t=(0,e.i(74448).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],7146)},86892,e=>{"use strict";let t=(0,e.i(74448).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],86892)},36387,e=>{"use strict";var t=e.i(75779),s=e.i(53312),a=e.i(92230),l=e.i(86892),r=e.i(7146),i=e.i(27614);let c="http://127.0.0.1:5002",d=c.endsWith("/api")?c.slice(0,-4):c;function n(){let[e,c]=(0,s.useState)([]),[n,x]=(0,s.useState)(!0),[o,p]=(0,s.useState)({status:"",search:""}),[h,m]=(0,s.useState)({page:1,total:0,pages:0}),y=async()=>{try{let e=document.cookie.split("; ").find(e=>e.startsWith("admin_token="))?.split("=")[1],t=new URLSearchParams({page:h.page.toString(),limit:"20",...o.status&&{status:o.status},...o.search&&{search:o.search}}),s=await fetch(`${d}/api/fellowship?${t}`,{headers:{Authorization:`Bearer ${e}`}}),a=await s.json();a.success&&(c(a.fellowships),m(a.pagination))}catch(e){console.error("Failed to fetch fellowships:",e)}finally{x(!1)}};return(0,s.useEffect)(()=>{y()},[h.page,o.status]),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center",children:(0,t.jsx)(a.Heart,{className:"w-6 h-6 text-pink-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"All Fellowships"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage fellowship subscriptions"})]})]}),(0,t.jsx)(i.default,{href:"/admin/fellowships/add",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"+ Add Fellowship"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name, email, phone...",value:o.search,onChange:e=>p({...o,search:e.target.value}),onKeyDown:e=>"Enter"===e.key&&y(),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary"})]}),(0,t.jsxs)("select",{value:o.status,onChange:e=>p({...o,status:e.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[n?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Subscriber"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Monthly"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Total Paid"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Payments"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Next Due"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.subscriberName}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]}),(0,t.jsxs)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:[e.currency," ",e.monthlyAmount.toLocaleString()]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-gray-900",children:[e.currency," ",e.totalPaid.toLocaleString()]}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.totalPayments}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${{active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"}[e.status]||"bg-gray-100 text-gray-800"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.nextPaymentDue?new Date(e.nextPaymentDue).toLocaleDateString("en-IN"):"-"}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"flex gap-1",children:(0,t.jsx)(i.default,{href:`/admin/fellowships/${e._id}`,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(r.Eye,{className:"w-4 h-4 text-gray-600"})})})})]},e._id))})]}),h.pages>1&&(0,t.jsxs)("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",h.page," of ",h.pages," (",h.total," total)"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>m({...h,page:h.page-1}),disabled:1===h.page,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>m({...h,page:h.page+1}),disabled:h.page===h.pages,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]})]})]})]})}e.s(["default",()=>n])}]);