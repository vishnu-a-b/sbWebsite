(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7146,e=>{"use strict";let t=(0,e.i(74448).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],7146)},44415,e=>{"use strict";let t=(0,e.i(74448).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],44415)},36789,e=>{"use strict";var t=e.i(75779),s=e.i(53312),a=e.i(44415),l=e.i(7146);function r(){let[e,r]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[d,o]=(0,s.useState)({status:"",type:""}),[c,x]=(0,s.useState)({page:1,total:0,pages:0}),p=async()=>{try{let e=document.cookie.split("; ").find(e=>e.startsWith("admin_token="))?.split("=")[1],t=new URLSearchParams({page:c.page.toString(),limit:"20",...d.status&&{status:d.status},...d.type&&{donationType:d.type}}),s=await fetch(`http://127.0.0.1:5002/api/donation?${t}`,{headers:{Authorization:`Bearer ${e}`}}),a=await s.json();a.success&&(r(a.donations),x(a.pagination))}catch(e){console.error("Failed to fetch donations:",e)}finally{i(!1)}};return(0,s.useEffect)(()=>{p()},[c.page,d]),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"All Donations"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage all donation records"})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:[(0,t.jsx)(a.Download,{className:"w-4 h-4"}),"Export CSV"]})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("select",{value:d.status,onChange:e=>o({...d,status:e.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"",children:"All Status"}),(0,t.jsx)("option",{value:"SUCCESS",children:"Success"}),(0,t.jsx)("option",{value:"PENDING",children:"Pending"}),(0,t.jsx)("option",{value:"FAILED",children:"Failed"})]}),(0,t.jsxs)("select",{value:d.type,onChange:e=>o({...d,type:e.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary",children:[(0,t.jsx)("option",{value:"",children:"All Types"}),(0,t.jsx)("option",{value:"general",children:"General"}),(0,t.jsx)("option",{value:"fellowship",children:"Fellowship"})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[n?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Donor"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.donorName}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})}),(0,t.jsxs)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:[e.currency," ",e.amount.toLocaleString()]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.isOffline?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:[e.isOffline?"Offline":"Online"," - ",e.donationType]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${{SUCCESS:"bg-green-100 text-green-800",FAILED:"bg-red-100 text-red-800",PENDING:"bg-yellow-100 text-yellow-800",REFUNDED:"bg-gray-100 text-gray-800"}[e.paymentStatus]||"bg-gray-100 text-gray-800"}`,children:e.paymentStatus})}),(0,t.jsx)("td",{className:"px-6 py-4 text-gray-600",children:new Date(e.createdAt).toLocaleDateString("en-IN")}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(l.Eye,{className:"w-4 h-4 text-gray-600"})})})]},e._id))})]}),c.pages>1&&(0,t.jsxs)("div",{className:"px-6 py-4 border-t flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",c.page," of ",c.pages," (",c.total," total)"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>x({...c,page:c.page-1}),disabled:1===c.page,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>x({...c,page:c.page+1}),disabled:c.page===c.pages,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]})]})]})]})}e.s(["default",()=>r])}]);