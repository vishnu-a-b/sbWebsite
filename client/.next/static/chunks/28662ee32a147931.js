(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98286,e=>{"use strict";let a=(0,e.i(74448).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],98286)},87394,e=>{"use strict";let a=(0,e.i(74448).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],87394)},49709,e=>{"use strict";var a=e.i(75779),r=e.i(53312),s=e.i(46603),t=e.i(51468),l=e.i(87394),n=e.i(98286),o=e.i(27614);function i(){let e=(0,s.useRouter)(),[i,d]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(""),[p,h]=(0,r.useState)({donorName:"",email:"",phone:"",amount:"",donationType:"general",panNumber:"",address:"",offlinePaymentMethod:"cash",notes:""}),f=async a=>{a.preventDefault(),d(!0),x("");try{let a=document.cookie.split("; ").find(e=>e.startsWith("admin_token="))?.split("=")[1],r=await fetch("http://127.0.0.1:5002/api/donation/offline",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...p,amount:parseFloat(p.amount)})}),s=await r.json();s.success?(m(!0),setTimeout(()=>e.push("/admin/donations"),2e3)):x(s.error||"Failed to add donation")}catch(e){x("Failed to connect to server")}finally{d(!1)}};return c?(0,a.jsx)("div",{className:"p-8 flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(n.CheckCircle,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Donation Added!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"The offline donation has been submitted for approval."})]})}):(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)(o.default,{href:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,a.jsx)(l.ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]}),(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)(t.PlusCircle,{className:"w-6 h-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Offline Donation"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Record a cash, cheque, or bank transfer donation"})]})]}),u&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6",children:u}),(0,a.jsxs)("form",{onSubmit:f,className:"bg-white rounded-xl shadow-sm border p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donor Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:p.donorName,onChange:e=>h({...p,donorName:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter donor's full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,a.jsx)("input",{type:"email",required:!0,value:p.email,onChange:e=>h({...p,email:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"donor@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:p.phone,onChange:e=>h({...p,phone:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"+91 9876543210"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (INR) *"}),(0,a.jsx)("input",{type:"number",required:!0,min:"1",value:p.amount,onChange:e=>h({...p,amount:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"10000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),(0,a.jsxs)("select",{required:!0,value:p.offlinePaymentMethod,onChange:e=>h({...p,offlinePaymentMethod:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"cash",children:"Cash"}),(0,a.jsx)("option",{value:"cheque",children:"Cheque"}),(0,a.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Donation Type"}),(0,a.jsxs)("select",{value:p.donationType,onChange:e=>h({...p,donationType:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"general",children:"General Donation"}),(0,a.jsx)("option",{value:"fellowship",children:"Fellowship"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAN Number"}),(0,a.jsx)("input",{type:"text",value:p.panNumber,onChange:e=>h({...p,panNumber:e.target.value.toUpperCase()}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"ABCDE1234F",maxLength:10})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,a.jsx)("textarea",{value:p.address,onChange:e=>h({...p,address:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",rows:2,placeholder:"Donor's address"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,a.jsx)("textarea",{value:p.notes,onChange:e=>h({...p,notes:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",rows:3,placeholder:"Cheque number, bank details, or other notes..."})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"submit",disabled:i,className:"flex-1 bg-primary text-white py-3 rounded-xl font-semibold hover:bg-primary/90 disabled:opacity-50",children:i?"Submitting...":"Submit for Approval"}),(0,a.jsx)(o.default,{href:"/admin",className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})]})]})}e.s(["default",()=>i])}]);