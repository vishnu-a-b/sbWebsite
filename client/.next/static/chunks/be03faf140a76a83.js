(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98286,e=>{"use strict";let s=(0,e.i(74448).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],98286)},87394,e=>{"use strict";let s=(0,e.i(74448).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],87394)},65336,e=>{"use strict";var s=e.i(75779),r=e.i(53312),a=e.i(46603),t=e.i(76589),l=e.i(87394),i=e.i(98286),n=e.i(27614);let o="http://127.0.0.1:5002",d=o.endsWith("/api")?o.slice(0,-4):o;function c(){let e=(0,a.useRouter)(),[o,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,p]=(0,r.useState)(""),[h,b]=(0,r.useState)({subscriberName:"",email:"",phone:"",monthlyAmount:"",panNumber:"",address:"",notes:""}),f=async s=>{s.preventDefault(),c(!0),p("");try{let s=document.cookie.split("; ").find(e=>e.startsWith("admin_token="))?.split("=")[1],r=await fetch(`${d}/api/fellowship/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...h,monthlyAmount:parseFloat(h.monthlyAmount)})}),a=await r.json();a.success?(u(!0),setTimeout(()=>e.push("/admin/fellowships"),2e3)):p(a.error||"Failed to create fellowship")}catch(e){p("Failed to connect to server")}finally{c(!1)}};return m?(0,s.jsx)("div",{className:"p-8 flex items-center justify-center min-h-[60vh]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(i.CheckCircle,{className:"w-10 h-10 text-green-600"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Fellowship Created!"}),(0,s.jsx)("p",{className:"text-gray-600",children:"A welcome email has been sent to the subscriber."})]})}):(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)(n.default,{href:"/admin/fellowships",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,s.jsx)(l.ArrowLeft,{className:"w-4 h-4"}),"Back to Fellowships"]}),(0,s.jsxs)("div",{className:"max-w-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center",children:(0,s.jsx)(t.UserPlus,{className:"w-6 h-6 text-pink-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Add Fellowship"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Register a new monthly giving subscription"})]})]}),x&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6",children:x}),(0,s.jsxs)("form",{onSubmit:f,className:"bg-white rounded-xl shadow-sm border p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscriber Name *"}),(0,s.jsx)("input",{type:"text",required:!0,value:h.subscriberName,onChange:e=>b({...h,subscriberName:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter subscriber's full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,s.jsx)("input",{type:"email",required:!0,value:h.email,onChange:e=>b({...h,email:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"subscriber@email.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),(0,s.jsx)("input",{type:"tel",required:!0,value:h.phone,onChange:e=>b({...h,phone:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"+91 9876543210"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Amount (INR) *"}),(0,s.jsx)("input",{type:"number",required:!0,min:"1",value:h.monthlyAmount,onChange:e=>b({...h,monthlyAmount:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"5000"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAN Number"}),(0,s.jsx)("input",{type:"text",value:h.panNumber,onChange:e=>b({...h,panNumber:e.target.value.toUpperCase()}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"ABCDE1234F",maxLength:10})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,s.jsx)("textarea",{value:h.address,onChange:e=>b({...h,address:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",rows:2,placeholder:"Subscriber's address"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,s.jsx)("textarea",{value:h.notes,onChange:e=>b({...h,notes:e.target.value}),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent",rows:3,placeholder:"Any additional notes..."})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsx)("button",{type:"submit",disabled:o,className:"flex-1 bg-primary text-white py-3 rounded-xl font-semibold hover:bg-primary/90 disabled:opacity-50",children:o?"Creating...":"Create Fellowship"}),(0,s.jsx)(n.default,{href:"/admin/fellowships",className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})]})]})}e.s(["default",()=>c])}]);